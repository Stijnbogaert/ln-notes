/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/micro-memoize/dist/micro-memoize.js
var require_micro_memoize = __commonJS({
  "node_modules/micro-memoize/dist/micro-memoize.js"(exports, module2) {
    (function(global, factory) {
      typeof exports === "object" && typeof module2 !== "undefined" ? module2.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global = typeof globalThis !== "undefined" ? globalThis : global || self, global["micro-memoize"] = factory());
    })(exports, function() {
      "use strict";
      var DEFAULT_OPTIONS_KEYS = {
        isEqual: true,
        isMatchingKey: true,
        isPromise: true,
        maxSize: true,
        onCacheAdd: true,
        onCacheChange: true,
        onCacheHit: true,
        transformKey: true
      };
      var slice = Array.prototype.slice;
      function cloneArray(arrayLike) {
        var length = arrayLike.length;
        if (!length) {
          return [];
        }
        if (length === 1) {
          return [arrayLike[0]];
        }
        if (length === 2) {
          return [arrayLike[0], arrayLike[1]];
        }
        if (length === 3) {
          return [arrayLike[0], arrayLike[1], arrayLike[2]];
        }
        return slice.call(arrayLike, 0);
      }
      function getCustomOptions(options) {
        var customOptions = {};
        for (var key in options) {
          if (!DEFAULT_OPTIONS_KEYS[key]) {
            customOptions[key] = options[key];
          }
        }
        return customOptions;
      }
      function isMemoized(fn) {
        return typeof fn === "function" && fn.isMemoized;
      }
      function isSameValueZero(object1, object2) {
        return object1 === object2 || object1 !== object1 && object2 !== object2;
      }
      function mergeOptions(existingOptions, newOptions) {
        var target = {};
        for (var key in existingOptions) {
          target[key] = existingOptions[key];
        }
        for (var key in newOptions) {
          target[key] = newOptions[key];
        }
        return target;
      }
      var Cache = (
        /** @class */
        function() {
          function Cache2(options) {
            this.keys = [];
            this.values = [];
            this.options = options;
            var isMatchingKeyFunction = typeof options.isMatchingKey === "function";
            if (isMatchingKeyFunction) {
              this.getKeyIndex = this._getKeyIndexFromMatchingKey;
            } else if (options.maxSize > 1) {
              this.getKeyIndex = this._getKeyIndexForMany;
            } else {
              this.getKeyIndex = this._getKeyIndexForSingle;
            }
            this.canTransformKey = typeof options.transformKey === "function";
            this.shouldCloneArguments = this.canTransformKey || isMatchingKeyFunction;
            this.shouldUpdateOnAdd = typeof options.onCacheAdd === "function";
            this.shouldUpdateOnChange = typeof options.onCacheChange === "function";
            this.shouldUpdateOnHit = typeof options.onCacheHit === "function";
          }
          Object.defineProperty(Cache2.prototype, "size", {
            /**
             * The number of cached [key,value] results.
             */
            get: function() {
              return this.keys.length;
            },
            enumerable: false,
            configurable: true
          });
          Object.defineProperty(Cache2.prototype, "snapshot", {
            /**
             * A copy of the cache at a moment in time. This is useful
             * to compare changes over time, since the cache mutates
             * internally for performance reasons.
             */
            get: function() {
              return {
                keys: cloneArray(this.keys),
                size: this.size,
                values: cloneArray(this.values)
              };
            },
            enumerable: false,
            configurable: true
          });
          Cache2.prototype._getKeyIndexFromMatchingKey = function(keyToMatch) {
            var _a = this.options, isMatchingKey = _a.isMatchingKey, maxSize = _a.maxSize;
            var keys = this.keys;
            var keysLength = keys.length;
            if (!keysLength) {
              return -1;
            }
            if (isMatchingKey(keys[0], keyToMatch)) {
              return 0;
            }
            if (maxSize > 1) {
              for (var index = 1; index < keysLength; index++) {
                if (isMatchingKey(keys[index], keyToMatch)) {
                  return index;
                }
              }
            }
            return -1;
          };
          Cache2.prototype._getKeyIndexForMany = function(keyToMatch) {
            var isEqual = this.options.isEqual;
            var keys = this.keys;
            var keysLength = keys.length;
            if (!keysLength) {
              return -1;
            }
            if (keysLength === 1) {
              return this._getKeyIndexForSingle(keyToMatch);
            }
            var keyLength = keyToMatch.length;
            var existingKey;
            var argIndex;
            if (keyLength > 1) {
              for (var index = 0; index < keysLength; index++) {
                existingKey = keys[index];
                if (existingKey.length === keyLength) {
                  argIndex = 0;
                  for (; argIndex < keyLength; argIndex++) {
                    if (!isEqual(existingKey[argIndex], keyToMatch[argIndex])) {
                      break;
                    }
                  }
                  if (argIndex === keyLength) {
                    return index;
                  }
                }
              }
            } else {
              for (var index = 0; index < keysLength; index++) {
                existingKey = keys[index];
                if (existingKey.length === keyLength && isEqual(existingKey[0], keyToMatch[0])) {
                  return index;
                }
              }
            }
            return -1;
          };
          Cache2.prototype._getKeyIndexForSingle = function(keyToMatch) {
            var keys = this.keys;
            if (!keys.length) {
              return -1;
            }
            var existingKey = keys[0];
            var length = existingKey.length;
            if (keyToMatch.length !== length) {
              return -1;
            }
            var isEqual = this.options.isEqual;
            if (length > 1) {
              for (var index = 0; index < length; index++) {
                if (!isEqual(existingKey[index], keyToMatch[index])) {
                  return -1;
                }
              }
              return 0;
            }
            return isEqual(existingKey[0], keyToMatch[0]) ? 0 : -1;
          };
          Cache2.prototype.orderByLru = function(key, value, startingIndex) {
            var keys = this.keys;
            var values = this.values;
            var currentLength = keys.length;
            var index = startingIndex;
            while (index--) {
              keys[index + 1] = keys[index];
              values[index + 1] = values[index];
            }
            keys[0] = key;
            values[0] = value;
            var maxSize = this.options.maxSize;
            if (currentLength === maxSize && startingIndex === currentLength) {
              keys.pop();
              values.pop();
            } else if (startingIndex >= maxSize) {
              keys.length = values.length = maxSize;
            }
          };
          Cache2.prototype.updateAsyncCache = function(memoized) {
            var _this = this;
            var _a = this.options, onCacheChange = _a.onCacheChange, onCacheHit = _a.onCacheHit;
            var firstKey = this.keys[0];
            var firstValue = this.values[0];
            this.values[0] = firstValue.then(function(value) {
              if (_this.shouldUpdateOnHit) {
                onCacheHit(_this, _this.options, memoized);
              }
              if (_this.shouldUpdateOnChange) {
                onCacheChange(_this, _this.options, memoized);
              }
              return value;
            }, function(error) {
              var keyIndex = _this.getKeyIndex(firstKey);
              if (keyIndex !== -1) {
                _this.keys.splice(keyIndex, 1);
                _this.values.splice(keyIndex, 1);
              }
              throw error;
            });
          };
          return Cache2;
        }()
      );
      function createMemoizedFunction(fn, options) {
        if (options === void 0) {
          options = {};
        }
        if (isMemoized(fn)) {
          return createMemoizedFunction(fn.fn, mergeOptions(fn.options, options));
        }
        if (typeof fn !== "function") {
          throw new TypeError("You must pass a function to `memoize`.");
        }
        var _a = options.isEqual, isEqual = _a === void 0 ? isSameValueZero : _a, isMatchingKey = options.isMatchingKey, _b = options.isPromise, isPromise = _b === void 0 ? false : _b, _c = options.maxSize, maxSize = _c === void 0 ? 1 : _c, onCacheAdd = options.onCacheAdd, onCacheChange = options.onCacheChange, onCacheHit = options.onCacheHit, transformKey = options.transformKey;
        var normalizedOptions = mergeOptions({
          isEqual,
          isMatchingKey,
          isPromise,
          maxSize,
          onCacheAdd,
          onCacheChange,
          onCacheHit,
          transformKey
        }, getCustomOptions(options));
        var cache = new Cache(normalizedOptions);
        var keys = cache.keys, values = cache.values, canTransformKey = cache.canTransformKey, shouldCloneArguments = cache.shouldCloneArguments, shouldUpdateOnAdd = cache.shouldUpdateOnAdd, shouldUpdateOnChange = cache.shouldUpdateOnChange, shouldUpdateOnHit = cache.shouldUpdateOnHit;
        var memoized = function() {
          var key = shouldCloneArguments ? cloneArray(arguments) : arguments;
          if (canTransformKey) {
            key = transformKey(key);
          }
          var keyIndex = keys.length ? cache.getKeyIndex(key) : -1;
          if (keyIndex !== -1) {
            if (shouldUpdateOnHit) {
              onCacheHit(cache, normalizedOptions, memoized);
            }
            if (keyIndex) {
              cache.orderByLru(keys[keyIndex], values[keyIndex], keyIndex);
              if (shouldUpdateOnChange) {
                onCacheChange(cache, normalizedOptions, memoized);
              }
            }
          } else {
            var newValue = fn.apply(this, arguments);
            var newKey = shouldCloneArguments ? key : cloneArray(arguments);
            cache.orderByLru(newKey, newValue, keys.length);
            if (isPromise) {
              cache.updateAsyncCache(memoized);
            }
            if (shouldUpdateOnAdd) {
              onCacheAdd(cache, normalizedOptions, memoized);
            }
            if (shouldUpdateOnChange) {
              onCacheChange(cache, normalizedOptions, memoized);
            }
          }
          return values[0];
        };
        memoized.cache = cache;
        memoized.fn = fn;
        memoized.isMemoized = true;
        memoized.options = normalizedOptions;
        return memoized;
      }
      return createMemoizedFunction;
    });
  }
});

// node_modules/fast-equals/dist/fast-equals.js
var require_fast_equals = __commonJS({
  "node_modules/fast-equals/dist/fast-equals.js"(exports, module2) {
    (function(global, factory) {
      typeof exports === "object" && typeof module2 !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : (global = typeof globalThis !== "undefined" ? globalThis : global || self, factory(global["fast-equals"] = {}));
    })(exports, function(exports2) {
      "use strict";
      var HAS_WEAK_MAP_SUPPORT = typeof WeakMap === "function";
      var keys = Object.keys;
      function sameValueZeroEqual(a, b) {
        return a === b || a !== a && b !== b;
      }
      function isPlainObject(value) {
        return value.constructor === Object || value.constructor == null;
      }
      function isPromiseLike(value) {
        return !!value && typeof value.then === "function";
      }
      function isReactElement(value) {
        return !!(value && value.$$typeof);
      }
      function getNewCacheFallback() {
        var entries = [];
        return {
          delete: function(key) {
            for (var index = 0; index < entries.length; ++index) {
              if (entries[index][0] === key) {
                entries.splice(index, 1);
                return;
              }
            }
          },
          get: function(key) {
            for (var index = 0; index < entries.length; ++index) {
              if (entries[index][0] === key) {
                return entries[index][1];
              }
            }
          },
          set: function(key, value) {
            for (var index = 0; index < entries.length; ++index) {
              if (entries[index][0] === key) {
                entries[index][1] = value;
                return;
              }
            }
            entries.push([key, value]);
          }
        };
      }
      var getNewCache = function(canUseWeakMap) {
        if (canUseWeakMap) {
          return function _getNewCache() {
            return /* @__PURE__ */ new WeakMap();
          };
        }
        return getNewCacheFallback;
      }(HAS_WEAK_MAP_SUPPORT);
      function createCircularEqualCreator(isEqual) {
        return function createCircularEqual(comparator) {
          var _comparator = isEqual || comparator;
          return function circularEqual(a, b, indexOrKeyA, indexOrKeyB, parentA, parentB, cache) {
            if (cache === void 0) {
              cache = getNewCache();
            }
            var isCacheableA = !!a && typeof a === "object";
            var isCacheableB = !!b && typeof b === "object";
            if (isCacheableA !== isCacheableB) {
              return false;
            }
            if (!isCacheableA && !isCacheableB) {
              return _comparator(a, b, cache);
            }
            var cachedA = cache.get(a);
            if (cachedA && cache.get(b)) {
              return cachedA === b;
            }
            cache.set(a, b);
            cache.set(b, a);
            var result = _comparator(a, b, cache);
            cache.delete(a);
            cache.delete(b);
            return result;
          };
        };
      }
      function areArraysEqual(a, b, isEqual, meta) {
        var index = a.length;
        if (b.length !== index) {
          return false;
        }
        while (index-- > 0) {
          if (!isEqual(a[index], b[index], index, index, a, b, meta)) {
            return false;
          }
        }
        return true;
      }
      function areMapsEqual(a, b, isEqual, meta) {
        var isValueEqual = a.size === b.size;
        if (isValueEqual && a.size) {
          var matchedIndices_1 = {};
          var indexA_1 = 0;
          a.forEach(function(aValue, aKey) {
            if (isValueEqual) {
              var hasMatch_1 = false;
              var matchIndexB_1 = 0;
              b.forEach(function(bValue, bKey) {
                if (!hasMatch_1 && !matchedIndices_1[matchIndexB_1]) {
                  hasMatch_1 = isEqual(aKey, bKey, indexA_1, matchIndexB_1, a, b, meta) && isEqual(aValue, bValue, aKey, bKey, a, b, meta);
                  if (hasMatch_1) {
                    matchedIndices_1[matchIndexB_1] = true;
                  }
                }
                matchIndexB_1++;
              });
              indexA_1++;
              isValueEqual = hasMatch_1;
            }
          });
        }
        return isValueEqual;
      }
      var OWNER = "_owner";
      var hasOwnProperty = Function.prototype.bind.call(Function.prototype.call, Object.prototype.hasOwnProperty);
      function areObjectsEqual(a, b, isEqual, meta) {
        var keysA = keys(a);
        var index = keysA.length;
        if (keys(b).length !== index) {
          return false;
        }
        if (index) {
          var key = void 0;
          while (index-- > 0) {
            key = keysA[index];
            if (key === OWNER) {
              var reactElementA = isReactElement(a);
              var reactElementB = isReactElement(b);
              if ((reactElementA || reactElementB) && reactElementA !== reactElementB) {
                return false;
              }
            }
            if (!hasOwnProperty(b, key) || !isEqual(a[key], b[key], key, key, a, b, meta)) {
              return false;
            }
          }
        }
        return true;
      }
      var areRegExpsEqual = function() {
        if (/foo/g.flags === "g") {
          return function areRegExpsEqual2(a, b) {
            return a.source === b.source && a.flags === b.flags;
          };
        }
        return function areRegExpsEqualFallback(a, b) {
          return a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.unicode === b.unicode && a.sticky === b.sticky && a.lastIndex === b.lastIndex;
        };
      }();
      function areSetsEqual(a, b, isEqual, meta) {
        var isValueEqual = a.size === b.size;
        if (isValueEqual && a.size) {
          var matchedIndices_2 = {};
          a.forEach(function(aValue, aKey) {
            if (isValueEqual) {
              var hasMatch_2 = false;
              var matchIndex_1 = 0;
              b.forEach(function(bValue, bKey) {
                if (!hasMatch_2 && !matchedIndices_2[matchIndex_1]) {
                  hasMatch_2 = isEqual(aValue, bValue, aKey, bKey, a, b, meta);
                  if (hasMatch_2) {
                    matchedIndices_2[matchIndex_1] = true;
                  }
                }
                matchIndex_1++;
              });
              isValueEqual = hasMatch_2;
            }
          });
        }
        return isValueEqual;
      }
      var HAS_MAP_SUPPORT = typeof Map === "function";
      var HAS_SET_SUPPORT = typeof Set === "function";
      var valueOf = Object.prototype.valueOf;
      function createComparator(createIsEqual) {
        var isEqual = (
          /* eslint-disable no-use-before-define */
          typeof createIsEqual === "function" ? createIsEqual(comparator) : function(a, b, indexOrKeyA, indexOrKeyB, parentA, parentB, meta) {
            return comparator(a, b, meta);
          }
        );
        function comparator(a, b, meta) {
          if (a === b) {
            return true;
          }
          if (a && b && typeof a === "object" && typeof b === "object") {
            if (isPlainObject(a) && isPlainObject(b)) {
              return areObjectsEqual(a, b, isEqual, meta);
            }
            var aShape = Array.isArray(a);
            var bShape = Array.isArray(b);
            if (aShape || bShape) {
              return aShape === bShape && areArraysEqual(a, b, isEqual, meta);
            }
            aShape = a instanceof Date;
            bShape = b instanceof Date;
            if (aShape || bShape) {
              return aShape === bShape && sameValueZeroEqual(a.getTime(), b.getTime());
            }
            aShape = a instanceof RegExp;
            bShape = b instanceof RegExp;
            if (aShape || bShape) {
              return aShape === bShape && areRegExpsEqual(a, b);
            }
            if (isPromiseLike(a) || isPromiseLike(b)) {
              return a === b;
            }
            if (HAS_MAP_SUPPORT) {
              aShape = a instanceof Map;
              bShape = b instanceof Map;
              if (aShape || bShape) {
                return aShape === bShape && areMapsEqual(a, b, isEqual, meta);
              }
            }
            if (HAS_SET_SUPPORT) {
              aShape = a instanceof Set;
              bShape = b instanceof Set;
              if (aShape || bShape) {
                return aShape === bShape && areSetsEqual(a, b, isEqual, meta);
              }
            }
            if (a.valueOf !== valueOf || b.valueOf !== valueOf) {
              return sameValueZeroEqual(a.valueOf(), b.valueOf());
            }
            return areObjectsEqual(a, b, isEqual, meta);
          }
          return a !== a && b !== b;
        }
        return comparator;
      }
      var deepEqual = createComparator();
      var shallowEqual = createComparator(function() {
        return sameValueZeroEqual;
      });
      var circularDeepEqual = createComparator(createCircularEqualCreator());
      var circularShallowEqual = createComparator(createCircularEqualCreator(sameValueZeroEqual));
      exports2.circularDeepEqual = circularDeepEqual;
      exports2.circularShallowEqual = circularShallowEqual;
      exports2.createCustomEqual = createComparator;
      exports2.deepEqual = deepEqual;
      exports2.sameValueZeroEqual = sameValueZeroEqual;
      exports2.shallowEqual = shallowEqual;
      Object.defineProperty(exports2, "__esModule", { value: true });
    });
  }
});

// node_modules/moize/dist/moize.js
var require_moize = __commonJS({
  "node_modules/moize/dist/moize.js"(exports, module2) {
    (function(global, factory) {
      typeof exports === "object" && typeof module2 !== "undefined" ? module2.exports = factory(require_micro_memoize(), require_fast_equals()) : typeof define === "function" && define.amd ? define(["micro-memoize", "fast-equals"], factory) : (global = typeof globalThis !== "undefined" ? globalThis : global || self, global.moize = factory(global.memoize, global.fe));
    })(exports, function(memoize, fastEquals) {
      "use strict";
      function _extends() {
        _extends = Object.assign ? Object.assign.bind() : function(target) {
          for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i];
            for (var key in source) {
              if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
              }
            }
          }
          return target;
        };
        return _extends.apply(this, arguments);
      }
      function _objectWithoutPropertiesLoose(source, excluded) {
        if (source == null)
          return {};
        var target = {};
        var sourceKeys = Object.keys(source);
        var key, i;
        for (i = 0; i < sourceKeys.length; i++) {
          key = sourceKeys[i];
          if (excluded.indexOf(key) >= 0)
            continue;
          target[key] = source[key];
        }
        return target;
      }
      var DEFAULT_OPTIONS = {
        isDeepEqual: false,
        isPromise: false,
        isReact: false,
        isSerialized: false,
        isShallowEqual: false,
        matchesArg: void 0,
        matchesKey: void 0,
        maxAge: void 0,
        maxArgs: void 0,
        maxSize: 1,
        onExpire: void 0,
        profileName: void 0,
        serializer: void 0,
        updateCacheForKey: void 0,
        transformArgs: void 0,
        updateExpire: false
      };
      function combine() {
        for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {
          functions[_key] = arguments[_key];
        }
        return functions.reduce(function(f, g) {
          if (typeof f === "function") {
            return typeof g === "function" ? function() {
              f.apply(this, arguments);
              g.apply(this, arguments);
            } : f;
          }
          if (typeof g === "function") {
            return g;
          }
        });
      }
      function compose() {
        for (var _len2 = arguments.length, functions = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          functions[_key2] = arguments[_key2];
        }
        return functions.reduce(function(f, g) {
          if (typeof f === "function") {
            return typeof g === "function" ? function() {
              return f(g.apply(this, arguments));
            } : f;
          }
          if (typeof g === "function") {
            return g;
          }
        });
      }
      function findExpirationIndex(expirations, key) {
        for (var index = 0; index < expirations.length; index++) {
          if (expirations[index].key === key) {
            return index;
          }
        }
        return -1;
      }
      function createFindKeyIndex(isEqual, isMatchingKey) {
        var areKeysEqual = typeof isMatchingKey === "function" ? isMatchingKey : function(cacheKey, key) {
          for (var index = 0; index < key.length; index++) {
            if (!isEqual(cacheKey[index], key[index])) {
              return false;
            }
          }
          return true;
        };
        return function(keys, key) {
          for (var keysIndex = 0; keysIndex < keys.length; keysIndex++) {
            if (keys[keysIndex].length === key.length && areKeysEqual(keys[keysIndex], key)) {
              return keysIndex;
            }
          }
          return -1;
        };
      }
      function mergeOptions(originalOptions, newOptions) {
        if (!newOptions || newOptions === DEFAULT_OPTIONS) {
          return originalOptions;
        }
        return _extends({}, originalOptions, newOptions, {
          onCacheAdd: combine(originalOptions.onCacheAdd, newOptions.onCacheAdd),
          onCacheChange: combine(originalOptions.onCacheChange, newOptions.onCacheChange),
          onCacheHit: combine(originalOptions.onCacheHit, newOptions.onCacheHit),
          transformArgs: compose(originalOptions.transformArgs, newOptions.transformArgs)
        });
      }
      function isMoized(fn) {
        return typeof fn === "function" && fn.isMoized;
      }
      function setName(fn, originalFunctionName, profileName) {
        try {
          var name = profileName || originalFunctionName || "anonymous";
          Object.defineProperty(fn, "name", {
            configurable: true,
            enumerable: false,
            value: "moized(" + name + ")",
            writable: true
          });
        } catch (_unused) {
        }
      }
      function clearExpiration(expirations, key, shouldRemove) {
        var expirationIndex = findExpirationIndex(expirations, key);
        if (expirationIndex !== -1) {
          clearTimeout(expirations[expirationIndex].timeoutId);
          if (shouldRemove) {
            expirations.splice(expirationIndex, 1);
          }
        }
      }
      function createTimeout(expirationMethod, maxAge2) {
        var timeoutId = setTimeout(expirationMethod, maxAge2);
        if (typeof timeoutId.unref === "function") {
          timeoutId.unref();
        }
        return timeoutId;
      }
      function createOnCacheAddSetExpiration(expirations, options, isEqual, isMatchingKey) {
        var maxAge2 = options.maxAge;
        return function onCacheAdd(cache, moizedOptions, moized) {
          var key = cache.keys[0];
          if (findExpirationIndex(expirations, key) === -1) {
            var expirationMethod = function expirationMethod2() {
              var findKeyIndex = createFindKeyIndex(isEqual, isMatchingKey);
              var keyIndex = findKeyIndex(cache.keys, key);
              var value = cache.values[keyIndex];
              if (~keyIndex) {
                cache.keys.splice(keyIndex, 1);
                cache.values.splice(keyIndex, 1);
                if (typeof options.onCacheChange === "function") {
                  options.onCacheChange(cache, moizedOptions, moized);
                }
              }
              clearExpiration(expirations, key, true);
              if (typeof options.onExpire === "function" && options.onExpire(key) === false) {
                cache.keys.unshift(key);
                cache.values.unshift(value);
                onCacheAdd(cache, moizedOptions, moized);
                if (typeof options.onCacheChange === "function") {
                  options.onCacheChange(cache, moizedOptions, moized);
                }
              }
            };
            expirations.push({
              expirationMethod,
              key,
              timeoutId: createTimeout(expirationMethod, maxAge2)
            });
          }
        };
      }
      function createOnCacheHitResetExpiration(expirations, options) {
        return function onCacheHit(cache) {
          var key = cache.keys[0];
          var expirationIndex = findExpirationIndex(expirations, key);
          if (~expirationIndex) {
            clearExpiration(expirations, key, false);
            expirations[expirationIndex].timeoutId = createTimeout(expirations[expirationIndex].expirationMethod, options.maxAge);
          }
        };
      }
      function getMaxAgeOptions(expirations, options, isEqual, isMatchingKey) {
        var onCacheAdd = typeof options.maxAge === "number" && isFinite(options.maxAge) ? createOnCacheAddSetExpiration(expirations, options, isEqual, isMatchingKey) : void 0;
        return {
          onCacheAdd,
          onCacheHit: onCacheAdd && options.updateExpire ? createOnCacheHitResetExpiration(expirations, options) : void 0
        };
      }
      var statsCache = {
        anonymousProfileNameCounter: 1,
        isCollectingStats: false,
        profiles: {}
      };
      var hasWarningDisplayed = false;
      function clearStats(profileName) {
        if (profileName) {
          delete statsCache.profiles[profileName];
        } else {
          statsCache.profiles = {};
        }
      }
      function collectStats(isCollectingStats) {
        if (isCollectingStats === void 0) {
          isCollectingStats = true;
        }
        statsCache.isCollectingStats = isCollectingStats;
      }
      function createOnCacheAddIncrementCalls(options) {
        var profileName = options.profileName;
        return function() {
          if (profileName && !statsCache.profiles[profileName]) {
            statsCache.profiles[profileName] = {
              calls: 0,
              hits: 0
            };
          }
          statsCache.profiles[profileName].calls++;
        };
      }
      function createOnCacheHitIncrementCallsAndHits(options) {
        return function() {
          var profiles = statsCache.profiles;
          var profileName = options.profileName;
          if (!profiles[profileName]) {
            profiles[profileName] = {
              calls: 0,
              hits: 0
            };
          }
          profiles[profileName].calls++;
          profiles[profileName].hits++;
        };
      }
      function getDefaultProfileName(fn) {
        return fn.displayName || fn.name || "Anonymous " + statsCache.anonymousProfileNameCounter++;
      }
      function getUsagePercentage(calls, hits) {
        return calls ? (hits / calls * 100).toFixed(4) + "%" : "0.0000%";
      }
      function getStats(profileName) {
        if (!statsCache.isCollectingStats && !hasWarningDisplayed) {
          console.warn('Stats are not currently being collected, please run "collectStats" to enable them.');
          hasWarningDisplayed = true;
        }
        var profiles = statsCache.profiles;
        if (profileName) {
          if (!profiles[profileName]) {
            return {
              calls: 0,
              hits: 0,
              usage: "0.0000%"
            };
          }
          var profile = profiles[profileName];
          return _extends({}, profile, {
            usage: getUsagePercentage(profile.calls, profile.hits)
          });
        }
        var completeStats = Object.keys(statsCache.profiles).reduce(function(completeProfiles, profileName2) {
          completeProfiles.calls += profiles[profileName2].calls;
          completeProfiles.hits += profiles[profileName2].hits;
          return completeProfiles;
        }, {
          calls: 0,
          hits: 0
        });
        return _extends({}, completeStats, {
          profiles: Object.keys(profiles).reduce(function(computedProfiles, profileName2) {
            computedProfiles[profileName2] = getStats(profileName2);
            return computedProfiles;
          }, {}),
          usage: getUsagePercentage(completeStats.calls, completeStats.hits)
        });
      }
      function getStatsOptions(options) {
        return statsCache.isCollectingStats ? {
          onCacheAdd: createOnCacheAddIncrementCalls(options),
          onCacheHit: createOnCacheHitIncrementCallsAndHits(options)
        } : {};
      }
      var ALWAYS_SKIPPED_PROPERTIES = {
        arguments: true,
        callee: true,
        caller: true,
        constructor: true,
        length: true,
        name: true,
        prototype: true
      };
      function copyStaticProperties(originalFn, newFn, skippedProperties) {
        if (skippedProperties === void 0) {
          skippedProperties = [];
        }
        Object.getOwnPropertyNames(originalFn).forEach(function(property) {
          if (!ALWAYS_SKIPPED_PROPERTIES[property] && skippedProperties.indexOf(property) === -1) {
            var descriptor = Object.getOwnPropertyDescriptor(originalFn, property);
            if (descriptor.get || descriptor.set) {
              Object.defineProperty(newFn, property, descriptor);
            } else {
              newFn[property] = originalFn[property];
            }
          }
        });
      }
      function addInstanceMethods(memoized, _ref) {
        var expirations = _ref.expirations;
        var options = memoized.options;
        var findKeyIndex = createFindKeyIndex(options.isEqual, options.isMatchingKey);
        var moized = memoized;
        moized.clear = function() {
          var onCacheChange = moized._microMemoizeOptions.onCacheChange, cache = moized.cache;
          cache.keys.length = 0;
          cache.values.length = 0;
          if (onCacheChange) {
            onCacheChange(cache, moized.options, moized);
          }
          return true;
        };
        moized.clearStats = function() {
          clearStats(moized.options.profileName);
        };
        moized.get = function(key) {
          var transformKey = moized._microMemoizeOptions.transformKey, cache = moized.cache;
          var cacheKey = transformKey ? transformKey(key) : key;
          var keyIndex = findKeyIndex(cache.keys, cacheKey);
          return keyIndex !== -1 ? moized.apply(this, key) : void 0;
        };
        moized.getStats = function() {
          return getStats(moized.options.profileName);
        };
        moized.has = function(key) {
          var transformKey = moized._microMemoizeOptions.transformKey;
          var cacheKey = transformKey ? transformKey(key) : key;
          return findKeyIndex(moized.cache.keys, cacheKey) !== -1;
        };
        moized.keys = function() {
          return moized.cacheSnapshot.keys;
        };
        moized.remove = function(key) {
          var _moized$_microMemoize = moized._microMemoizeOptions, onCacheChange = _moized$_microMemoize.onCacheChange, transformKey = _moized$_microMemoize.transformKey, cache = moized.cache;
          var keyIndex = findKeyIndex(cache.keys, transformKey ? transformKey(key) : key);
          if (keyIndex === -1) {
            return false;
          }
          var existingKey = cache.keys[keyIndex];
          cache.keys.splice(keyIndex, 1);
          cache.values.splice(keyIndex, 1);
          if (onCacheChange) {
            onCacheChange(cache, moized.options, moized);
          }
          clearExpiration(expirations, existingKey, true);
          return true;
        };
        moized.set = function(key, value) {
          var _microMemoizeOptions = moized._microMemoizeOptions, cache = moized.cache, options2 = moized.options;
          var onCacheAdd = _microMemoizeOptions.onCacheAdd, onCacheChange = _microMemoizeOptions.onCacheChange, transformKey = _microMemoizeOptions.transformKey;
          var cacheKey = transformKey ? transformKey(key) : key;
          var keyIndex = findKeyIndex(cache.keys, cacheKey);
          if (keyIndex === -1) {
            var cutoff = options2.maxSize - 1;
            if (cache.size > cutoff) {
              cache.keys.length = cutoff;
              cache.values.length = cutoff;
            }
            cache.keys.unshift(cacheKey);
            cache.values.unshift(value);
            if (options2.isPromise) {
              cache.updateAsyncCache(moized);
            }
            if (onCacheAdd) {
              onCacheAdd(cache, options2, moized);
            }
            if (onCacheChange) {
              onCacheChange(cache, options2, moized);
            }
          } else {
            var existingKey = cache.keys[keyIndex];
            cache.values[keyIndex] = value;
            if (keyIndex > 0) {
              cache.orderByLru(existingKey, value, keyIndex);
            }
            if (options2.isPromise) {
              cache.updateAsyncCache(moized);
            }
            if (typeof onCacheChange === "function") {
              onCacheChange(cache, options2, moized);
            }
          }
        };
        moized.values = function() {
          return moized.cacheSnapshot.values;
        };
      }
      function addInstanceProperties(memoized, _ref2) {
        var expirations = _ref2.expirations, moizeOptions = _ref2.options, originalFunction = _ref2.originalFunction;
        var microMemoizeOptions = memoized.options;
        Object.defineProperties(memoized, {
          _microMemoizeOptions: {
            configurable: true,
            get: function get() {
              return microMemoizeOptions;
            }
          },
          cacheSnapshot: {
            configurable: true,
            get: function get() {
              var currentCache = memoized.cache;
              return {
                keys: currentCache.keys.slice(0),
                size: currentCache.size,
                values: currentCache.values.slice(0)
              };
            }
          },
          expirations: {
            configurable: true,
            get: function get() {
              return expirations;
            }
          },
          expirationsSnapshot: {
            configurable: true,
            get: function get() {
              return expirations.slice(0);
            }
          },
          isMoized: {
            configurable: true,
            get: function get() {
              return true;
            }
          },
          options: {
            configurable: true,
            get: function get() {
              return moizeOptions;
            }
          },
          originalFunction: {
            configurable: true,
            get: function get() {
              return originalFunction;
            }
          }
        });
        var moized = memoized;
        copyStaticProperties(originalFunction, moized);
      }
      function createMoizeInstance(memoized, configuration) {
        addInstanceMethods(memoized, configuration);
        addInstanceProperties(memoized, configuration);
        return memoized;
      }
      var REACT_ELEMENT_TYPE = typeof Symbol === "function" && Symbol.for ? Symbol.for("react.element") : 60103;
      function createMoizedComponent(moizer, fn, options) {
        var reactMoizer = moizer(_extends({
          maxArgs: 2,
          isShallowEqual: true
        }, options, {
          isReact: false
        }));
        if (!fn.displayName) {
          fn.displayName = fn.name || "Component";
        }
        function Moized(props, context, updater) {
          this.props = props;
          this.context = context;
          this.updater = updater;
          this.MoizedComponent = reactMoizer(fn);
        }
        Moized.prototype.isReactComponent = {};
        Moized.prototype.render = function() {
          return {
            $$typeof: REACT_ELEMENT_TYPE,
            type: this.MoizedComponent,
            props: this.props,
            ref: null,
            key: null,
            _owner: null
          };
        };
        copyStaticProperties(fn, Moized, ["contextType", "contextTypes"]);
        Moized.displayName = "Moized(" + (fn.displayName || fn.name || "Component") + ")";
        setName(Moized, fn.name, options.profileName);
        return Moized;
      }
      function createGetInitialArgs(size) {
        return function(args) {
          if (size >= args.length) {
            return args;
          }
          if (size === 0) {
            return [];
          }
          if (size === 1) {
            return [args[0]];
          }
          if (size === 2) {
            return [args[0], args[1]];
          }
          if (size === 3) {
            return [args[0], args[1], args[2]];
          }
          var clone = [];
          for (var index = 0; index < size; index++) {
            clone[index] = args[index];
          }
          return clone;
        };
      }
      function getCutoff(array, value) {
        var length = array.length;
        for (var index = 0; index < length; ++index) {
          if (array[index] === value) {
            return index + 1;
          }
        }
        return 0;
      }
      function createDefaultReplacer() {
        var cache = [];
        var keys = [];
        return function defaultReplacer(key, value) {
          var type = typeof value;
          if (type === "function" || type === "symbol") {
            return value.toString();
          }
          if (typeof value === "object") {
            if (cache.length) {
              var thisCutoff = getCutoff(cache, this);
              if (thisCutoff === 0) {
                cache[cache.length] = this;
              } else {
                cache.splice(thisCutoff);
                keys.splice(thisCutoff);
              }
              keys[keys.length] = key;
              var valueCutoff = getCutoff(cache, value);
              if (valueCutoff !== 0) {
                return "[ref=" + (keys.slice(0, valueCutoff).join(".") || ".") + "]";
              }
            } else {
              cache[0] = value;
              keys[0] = key;
            }
            return value;
          }
          return "" + value;
        };
      }
      function getStringifiedArgument(arg) {
        var typeOfArg = typeof arg;
        return arg && (typeOfArg === "object" || typeOfArg === "function") ? JSON.stringify(arg, createDefaultReplacer()) : arg;
      }
      function defaultArgumentSerializer(args) {
        var key = "|";
        for (var index = 0; index < args.length; index++) {
          key += getStringifiedArgument(args[index]) + "|";
        }
        return [key];
      }
      function getSerializerFunction(options) {
        return typeof options.serializer === "function" ? options.serializer : defaultArgumentSerializer;
      }
      function getIsSerializedKeyEqual(cacheKey, key) {
        return cacheKey[0] === key[0];
      }
      function createOnCacheOperation(fn) {
        if (typeof fn === "function") {
          return function(_cacheIgnored, _microMemoizeOptionsIgnored, memoized) {
            return fn(memoized.cache, memoized.options, memoized);
          };
        }
      }
      function getIsEqual(options) {
        return options.matchesArg || options.isDeepEqual && fastEquals.deepEqual || options.isShallowEqual && fastEquals.shallowEqual || fastEquals.sameValueZeroEqual;
      }
      function getIsMatchingKey(options) {
        return options.matchesKey || options.isSerialized && getIsSerializedKeyEqual || void 0;
      }
      function getTransformKey(options) {
        return compose(options.isSerialized && getSerializerFunction(options), typeof options.transformArgs === "function" && options.transformArgs, typeof options.maxArgs === "number" && createGetInitialArgs(options.maxArgs));
      }
      function createRefreshableMoized(moized) {
        var updateCacheForKey = moized.options.updateCacheForKey;
        var refreshableMoized = function refreshableMoized2() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          if (!updateCacheForKey(args)) {
            return moized.apply(this, args);
          }
          var result = moized.fn.apply(this, args);
          moized.set(args, result);
          return result;
        };
        copyStaticProperties(moized, refreshableMoized);
        return refreshableMoized;
      }
      var _excluded = ["matchesArg", "isDeepEqual", "isPromise", "isReact", "isSerialized", "isShallowEqual", "matchesKey", "maxAge", "maxArgs", "maxSize", "onCacheAdd", "onCacheChange", "onCacheHit", "onExpire", "profileName", "serializer", "updateCacheForKey", "transformArgs", "updateExpire"];
      var moize2 = function moize3(fn, passedOptions) {
        var options = passedOptions || DEFAULT_OPTIONS;
        if (isMoized(fn)) {
          var moizeable = fn.originalFunction;
          var mergedOptions = mergeOptions(fn.options, options);
          return moize3(moizeable, mergedOptions);
        }
        if (typeof fn === "object") {
          return function(curriedFn, curriedOptions) {
            if (typeof curriedFn === "function") {
              var _mergedOptions = mergeOptions(fn, curriedOptions);
              return moize3(curriedFn, _mergedOptions);
            }
            var mergedOptions2 = mergeOptions(fn, curriedFn);
            return moize3(mergedOptions2);
          };
        }
        if (options.isReact) {
          return createMoizedComponent(moize3, fn, options);
        }
        var coalescedOptions = _extends({}, DEFAULT_OPTIONS, options, {
          maxAge: typeof options.maxAge === "number" && options.maxAge >= 0 ? options.maxAge : DEFAULT_OPTIONS.maxAge,
          maxArgs: typeof options.maxArgs === "number" && options.maxArgs >= 0 ? options.maxArgs : DEFAULT_OPTIONS.maxArgs,
          maxSize: typeof options.maxSize === "number" && options.maxSize >= 0 ? options.maxSize : DEFAULT_OPTIONS.maxSize,
          profileName: options.profileName || getDefaultProfileName(fn)
        });
        var expirations = [];
        coalescedOptions.matchesArg;
        coalescedOptions.isDeepEqual;
        var isPromise = coalescedOptions.isPromise;
        coalescedOptions.isReact;
        coalescedOptions.isSerialized;
        coalescedOptions.isShallowEqual;
        coalescedOptions.matchesKey;
        coalescedOptions.maxAge;
        coalescedOptions.maxArgs;
        var maxSize = coalescedOptions.maxSize, onCacheAdd = coalescedOptions.onCacheAdd, onCacheChange = coalescedOptions.onCacheChange, onCacheHit = coalescedOptions.onCacheHit;
        coalescedOptions.onExpire;
        coalescedOptions.profileName;
        coalescedOptions.serializer;
        var updateCacheForKey = coalescedOptions.updateCacheForKey;
        coalescedOptions.transformArgs;
        coalescedOptions.updateExpire;
        var customOptions = _objectWithoutPropertiesLoose(coalescedOptions, _excluded);
        var isEqual = getIsEqual(coalescedOptions);
        var isMatchingKey = getIsMatchingKey(coalescedOptions);
        var maxAgeOptions = getMaxAgeOptions(expirations, coalescedOptions, isEqual, isMatchingKey);
        var statsOptions = getStatsOptions(coalescedOptions);
        var transformKey = getTransformKey(coalescedOptions);
        var microMemoizeOptions = _extends({}, customOptions, {
          isEqual,
          isMatchingKey,
          isPromise,
          maxSize,
          onCacheAdd: createOnCacheOperation(combine(onCacheAdd, maxAgeOptions.onCacheAdd, statsOptions.onCacheAdd)),
          onCacheChange: createOnCacheOperation(onCacheChange),
          onCacheHit: createOnCacheOperation(combine(onCacheHit, maxAgeOptions.onCacheHit, statsOptions.onCacheHit)),
          transformKey
        });
        var memoized = memoize(fn, microMemoizeOptions);
        var moized = createMoizeInstance(memoized, {
          expirations,
          options: coalescedOptions,
          originalFunction: fn
        });
        if (updateCacheForKey) {
          moized = createRefreshableMoized(moized);
        }
        setName(moized, fn.name, options.profileName);
        return moized;
      };
      moize2.clearStats = clearStats;
      moize2.collectStats = collectStats;
      moize2.compose = function() {
        return compose.apply(void 0, arguments) || moize2;
      };
      moize2.deep = moize2({
        isDeepEqual: true
      });
      moize2.getStats = getStats;
      moize2.infinite = moize2({
        maxSize: Infinity
      });
      moize2.isCollectingStats = function isCollectingStats() {
        return statsCache.isCollectingStats;
      };
      moize2.isMoized = function isMoized2(fn) {
        return typeof fn === "function" && !!fn.isMoized;
      };
      moize2.matchesArg = function(argMatcher) {
        return moize2({
          matchesArg: argMatcher
        });
      };
      moize2.matchesKey = function(keyMatcher) {
        return moize2({
          matchesKey: keyMatcher
        });
      };
      function maxAge(maxAge2, expireOptions) {
        if (expireOptions === true) {
          return moize2({
            maxAge: maxAge2,
            updateExpire: expireOptions
          });
        }
        if (typeof expireOptions === "object") {
          var onExpire = expireOptions.onExpire, updateExpire = expireOptions.updateExpire;
          return moize2({
            maxAge: maxAge2,
            onExpire,
            updateExpire
          });
        }
        if (typeof expireOptions === "function") {
          return moize2({
            maxAge: maxAge2,
            onExpire: expireOptions,
            updateExpire: true
          });
        }
        return moize2({
          maxAge: maxAge2
        });
      }
      moize2.maxAge = maxAge;
      moize2.maxArgs = function maxArgs(maxArgs) {
        return moize2({
          maxArgs
        });
      };
      moize2.maxSize = function maxSize(maxSize) {
        return moize2({
          maxSize
        });
      };
      moize2.profile = function(profileName) {
        return moize2({
          profileName
        });
      };
      moize2.promise = moize2({
        isPromise: true,
        updateExpire: true
      });
      moize2.react = moize2({
        isReact: true
      });
      moize2.serialize = moize2({
        isSerialized: true
      });
      moize2.serializeWith = function(serializer) {
        return moize2({
          isSerialized: true,
          serializer
        });
      };
      moize2.shallow = moize2({
        isShallowEqual: true
      });
      moize2.transformArgs = function(transformArgs) {
        return moize2({
          transformArgs
        });
      };
      moize2.updateCacheForKey = function(updateCacheForKey) {
        return moize2({
          updateCacheForKey
        });
      };
      Object.defineProperty(moize2, "default", {
        configurable: false,
        enumerable: false,
        value: moize2,
        writable: false
      });
      return moize2;
    });
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => main_default
});
module.exports = __toCommonJS(main_exports);

// src/plugin.ts
var import_obsidian3 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var MTGCardLinksSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "MTG Card Links." });
    new import_obsidian.Setting(containerEl).setName("Link website").setDesc("The website to link to when clicking on a card link.").addDropdown((dropdown) => {
      dropdown.addOptions({
        scryfall: "Scryfall",
        gatherer: "Gatherer",
        edhrec: "EDHRec",
        tcgplayer: "TCGPlayer",
        cardhoarder: "Cardhoarder",
        cardmarket: "Cardmarket"
      }).setValue(this.plugin.settings.linkSite).onChange(async (value) => {
        this.plugin.settings.linkSite = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Image size").setDesc(
      "The size of the image shown when hovering over a card link."
    ).addSlider((slider) => {
      slider.setLimits(0, 1, 0.1).setValue(this.plugin.settings.imageSize).onChange(async (value) => {
        this.plugin.settings.imageSize = value;
        await this.plugin.saveSettings();
      });
    });
  }
};

// src/view-plugin.ts
var import_language = require("@codemirror/language");
var import_state = require("@codemirror/state");
var import_view2 = require("@codemirror/view");

// src/card-widget.ts
var import_view = require("@codemirror/view");

// src/scryfall.ts
var import_moize = __toESM(require_moize());
var import_obsidian2 = require("obsidian");
var getScryfallCard = import_moize.default.promise(
  async (name) => {
    const encodedName = encodeURIComponent(name);
    const url = `https://api.scryfall.com/cards/named?fuzzy=${encodedName}`;
    const response = await (0, import_obsidian2.requestUrl)(url);
    if (response.status == 200) {
      return response.json;
    } else {
      return null;
    }
  },
  {
    maxSize: 2e3
    // Average response size is 5kb unzipped
  }
);

// src/card-widget.ts
var linkSites = {
  scryfall: (cache) => cache.scryfall_uri,
  gatherer: (cache) => cache.related_uris.gatherer,
  edhrec: (cache) => cache.related_uris.edhrec,
  tcgplayer: (cache) => cache.purchase_uris.tcgplayer,
  cardhoarder: (cache) => cache.purchase_uris.cardhoarder,
  cardmarket: (cache) => cache.purchase_uris.cardmarket
};
function createImg(id, width) {
  const img = document.createElement("img");
  img.className = "scryfall_card";
  img.width = width;
  img.id = id;
  img.style.opacity = "0";
  img.toggleVisibility(false);
  return img;
}
var CardWidget = class extends import_view.WidgetType {
  constructor(id, name, settings) {
    super();
    this.id = id;
    this.name = name;
    this.settings = settings;
  }
  toDOM(view) {
    let width = 448 * this.settings.imageSize;
    const img = createImg(`${this.id}-1`, width);
    const img2 = createImg(`${this.id}-2`, width);
    getScryfallCard(this.name).then((card) => {
      var _a, _b;
      if (card == null) {
        return;
      }
      const images = [];
      if (card.image_uris) {
        images.push(card.image_uris.normal);
      } else if (card.card_faces) {
        images.push(card.card_faces[0].image_uris.normal);
        images.push(card.card_faces[1].image_uris.normal);
      }
      img.src = (_a = images[0]) != null ? _a : "";
      img2.src = (_b = images[1]) != null ? _b : "";
      const onMouseMove = (e) => {
        width = 448 * this.settings.imageSize;
        if (img.width != width) {
          img.width = width;
        }
        if (img2.width != width) {
          img2.width = width;
        }
        const rect = view.dom.getBoundingClientRect();
        img.style.left = e.clientX - rect.left + 10 + "px";
        img.style.top = e.clientY - rect.top + 40 + "px";
        img2.style.left = e.clientX - rect.left + 10 + width + "px";
        img2.style.top = e.clientY - rect.top + 40 + "px";
        if (img.style.opacity != "100%") {
          img.style.opacity = "100%";
        }
        if (img2.style.opacity != "100%") {
          img2.style.opacity = "100%";
        }
        const element = document.getElementById(`${this.id}-a`);
        if (element) {
          element.onmousedown = () => {
            var _a2;
            const url = (_a2 = linkSites[this.settings.linkSite](card)) != null ? _a2 : card.scryfall_uri;
            const a = document.createElement("a");
            a.href = url;
            a.click();
          };
        }
      };
      view.dom.addEventListener("mousemove", onMouseMove);
      this.destroy = () => view.dom.removeEventListener("mousemove", onMouseMove);
    });
    const span = document.createElement("span");
    span.appendChild(img);
    span.appendChild(img2);
    return span;
  }
};

// node_modules/nanoid/index.browser.js
var nanoid = (size = 21) => crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {
  byte &= 63;
  if (byte < 36) {
    id += byte.toString(36);
  } else if (byte < 62) {
    id += (byte - 26).toString(36).toUpperCase();
  } else if (byte > 62) {
    id += "-";
  } else {
    id += "_";
  }
  return id;
}, "");

// src/view-plugin.ts
var import_view3 = require("@codemirror/view");
function viewPlugin(settings) {
  return import_view3.ViewPlugin.define(
    (view) => new CardViewPluginValue(view, settings),
    {
      decorations: (value) => value.decorations
    }
  );
}
var CardViewPluginValue = class {
  constructor(view, settings) {
    this.settings = settings;
    this.decorations = this.buildDecorations(view);
  }
  update(update) {
    if (update.docChanged || update.viewportChanged || update.selectionSet) {
      this.decorations = this.buildDecorations(update.view);
    }
  }
  destroy() {
  }
  buildDecorations(view) {
    const builder = new import_state.RangeSetBuilder();
    const plugin = this;
    for (const { from, to } of view.visibleRanges) {
      (0, import_language.syntaxTree)(view.state).iterate({
        from,
        to,
        enter(node) {
          if (/hmd-barelink_link|hmd-barelink_link_list-[0-9]+/y.test(node.type.name)) {
            const id = nanoid();
            const name = view.state.doc.slice(node.from, node.to).toString().toLowerCase();
            let isSelected = false;
            for (const range of view.state.selection.ranges) {
              if (range.anchor >= node.from - 1 && range.anchor <= node.to + 1) {
                isSelected = true;
                break;
              }
            }
            if (!isSelected) {
              builder.add(
                node.from - 1,
                node.from,
                import_view2.Decoration.replace({})
              );
            }
            builder.add(
              node.from,
              node.to,
              import_view2.Decoration.mark({
                tagName: "a",
                attributes: {
                  id: `${id}-a`,
                  onmouseover: `document.getElementById("${id}-1")?.toggleVisibility(true); document.getElementById("${id}-2")?.toggleVisibility(true)`,
                  onmouseout: `document.getElementById("${id}-1")?.toggleVisibility(false); document.getElementById("${id}-2")?.toggleVisibility(false)`
                }
              })
            );
            builder.add(
              node.to,
              node.to,
              import_view2.Decoration.widget({
                widget: new CardWidget(
                  id,
                  name,
                  plugin.settings
                )
              })
            );
            if (!isSelected) {
              builder.add(
                node.to,
                node.to + 1,
                import_view2.Decoration.replace({})
              );
            }
          }
        }
      });
    }
    return builder.finish();
  }
};

// src/plugin.ts
var MTGCardLinksPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerEditorExtension(viewPlugin(this.settings));
    this.addSettingTab(new MTGCardLinksSettingsTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    const defaultSettings = {
      linkSite: "scryfall",
      imageSize: 0.5
    };
    this.settings = Object.assign(defaultSettings, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};

// main.ts
var main_default = MTGCardLinksPlugin;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL21pY3JvLW1lbW9pemUvc3JjL3V0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9taWNyby1tZW1vaXplL3NyYy9DYWNoZS50cyIsICJub2RlX21vZHVsZXMvbWljcm8tbWVtb2l6ZS9zcmMvaW5kZXgudHMiLCAibm9kZV9tb2R1bGVzL2Zhc3QtZXF1YWxzL3NyYy91dGlscy50cyIsICJub2RlX21vZHVsZXMvZmFzdC1lcXVhbHMvc3JjL2NvbXBhcmF0b3IudHMiLCAibm9kZV9tb2R1bGVzL2Zhc3QtZXF1YWxzL3NyYy9pbmRleC50cyIsICJub2RlX21vZHVsZXMvbW9pemUvc3JjL2NvbnN0YW50cy50cyIsICJub2RlX21vZHVsZXMvbW9pemUvc3JjL3V0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9tb2l6ZS9zcmMvbWF4QWdlLnRzIiwgIm5vZGVfbW9kdWxlcy9tb2l6ZS9zcmMvc3RhdHMudHMiLCAibm9kZV9tb2R1bGVzL21vaXplL3NyYy9pbnN0YW5jZS50cyIsICJub2RlX21vZHVsZXMvbW9pemUvc3JjL2NvbXBvbmVudC50cyIsICJub2RlX21vZHVsZXMvbW9pemUvc3JjL21heEFyZ3MudHMiLCAibm9kZV9tb2R1bGVzL21vaXplL3NyYy9zZXJpYWxpemUudHMiLCAibm9kZV9tb2R1bGVzL21vaXplL3NyYy9vcHRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9tb2l6ZS9zcmMvdXBkYXRlQ2FjaGVGb3JLZXkudHMiLCAibm9kZV9tb2R1bGVzL21vaXplL3NyYy9pbmRleC50cyIsICJtYWluLnRzIiwgInNyYy9wbHVnaW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy92aWV3LXBsdWdpbi50cyIsICJzcmMvY2FyZC13aWRnZXQudHMiLCAic3JjL3NjcnlmYWxsLnRzIiwgIm5vZGVfbW9kdWxlcy9uYW5vaWQvaW5kZXguYnJvd3Nlci5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFtudWxsLCBudWxsLCBudWxsLCAiaW1wb3J0IHR5cGUgeyBFcXVhbGl0eUNvbXBhcmF0b3IsIEludGVybmFsRXF1YWxpdHlDb21wYXJhdG9yIH0gZnJvbSAnLi90eXBlcyc7XG5cbmludGVyZmFjZSBDYWNoZSB7XG4gIGRlbGV0ZTogKGtleTogb2JqZWN0KSA9PiB2b2lkO1xuICBnZXQ6IChrZXk6IG9iamVjdCkgPT4gb2JqZWN0IHwgdW5kZWZpbmVkO1xuICBzZXQ6IChrZXk6IG9iamVjdCwgdmFsdWU6IG9iamVjdCkgPT4gdm9pZDtcbn1cblxuY29uc3QgSEFTX1dFQUtfTUFQX1NVUFBPUlQgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJztcblxuY29uc3QgeyBrZXlzIH0gPSBPYmplY3Q7XG5cbi8qKlxuICogYXJlIHRoZSB2YWx1ZXMgcGFzc2VkIHN0cmljdGx5IGVxdWFsIG9yIGJvdGggTmFOXG4gKlxuICogQHBhcmFtIGEgdGhlIHZhbHVlIHRvIGNvbXBhcmUgYWdhaW5zdFxuICogQHBhcmFtIGIgdGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIGFyZSB0aGUgdmFsdWVzIGVxdWFsIGJ5IHRoZSBTYW1lVmFsdWVaZXJvIHByaW5jaXBsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FtZVZhbHVlWmVyb0VxdWFsKGE6IGFueSwgYjogYW55KSB7XG4gIHJldHVybiBhID09PSBiIHx8IChhICE9PSBhICYmIGIgIT09IGIpO1xufVxuXG4vKipcbiAqIGlzIHRoZSB2YWx1ZSBhIHBsYWluIG9iamVjdFxuICpcbiAqIEBwYXJhbSB2YWx1ZSB0aGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMgaXMgdGhlIHZhbHVlIGEgcGxhaW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlOiBhbnkpIHtcbiAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgfHwgdmFsdWUuY29uc3RydWN0b3IgPT0gbnVsbDtcbn1cblxuLyoqXG4gKiBpcyB0aGUgdmFsdWUgcHJvbWlzZS1saWtlIChtZWFuaW5nIGl0IGlzIHRoZW5hYmxlKVxuICpcbiAqIEBwYXJhbSB2YWx1ZSB0aGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMgaXMgdGhlIHZhbHVlIHByb21pc2UtbGlrZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlTGlrZSh2YWx1ZTogYW55KSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIGlzIHRoZSB2YWx1ZSBwYXNzZWQgYSByZWFjdCBlbGVtZW50XG4gKlxuICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyBpcyB0aGUgdmFsdWUgYSByZWFjdCBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWN0RWxlbWVudCh2YWx1ZTogYW55KSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS4kJHR5cGVvZik7XG59XG5cbi8qKlxuICogaW4gY2FzZXMgd2hlcmUgV2Vha01hcCBpcyBub3Qgc3VwcG9ydGVkLCBjcmVhdGVzIGEgbmV3IGN1c3RvbVxuICogb2JqZWN0IHRoYXQgbWltaWNzIHRoZSBuZWNlc3NhcnkgQVBJIGFzcGVjdHMgZm9yIGNhY2hlIHB1cnBvc2VzXG4gKlxuICogQHJldHVybnMgdGhlIG5ldyBjYWNoZSBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0NhY2hlRmFsbGJhY2soKTogQ2FjaGUge1xuICBjb25zdCBlbnRyaWVzOiBbb2JqZWN0LCBvYmplY3RdW10gPSBbXTtcblxuICByZXR1cm4ge1xuICAgIGRlbGV0ZShrZXk6IG9iamVjdCkge1xuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVudHJpZXMubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgIGlmIChlbnRyaWVzW2luZGV4XVswXSA9PT0ga2V5KSB7XG4gICAgICAgICAgZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXQoa2V5OiBvYmplY3QpIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAoZW50cmllc1tpbmRleF1bMF0gPT09IGtleSkge1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzW2luZGV4XVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXQoa2V5OiBvYmplY3QsIHZhbHVlOiBvYmplY3QpIHtcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAoZW50cmllc1tpbmRleF1bMF0gPT09IGtleSkge1xuICAgICAgICAgIGVudHJpZXNbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBnZXQgYSBuZXcgY2FjaGUgb2JqZWN0IHRvIHByZXZlbnQgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICpcbiAqIEByZXR1cm5zIHRoZSBuZXcgY2FjaGUgb2JqZWN0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXROZXdDYWNoZSA9ICgoY2FuVXNlV2Vha01hcDogYm9vbGVhbikgPT4ge1xuICBpZiAoY2FuVXNlV2Vha01hcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBfZ2V0TmV3Q2FjaGUoKTogQ2FjaGUge1xuICAgICAgcmV0dXJuIG5ldyBXZWFrTWFwKCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBnZXROZXdDYWNoZUZhbGxiYWNrO1xufSkoSEFTX1dFQUtfTUFQX1NVUFBPUlQpO1xuXG4vKipcbiAqIGNyZWF0ZSBhIGN1c3RvbSBpc0VxdWFsIGhhbmRsZXIgc3BlY2lmaWMgdG8gY2lyY3VsYXIgb2JqZWN0c1xuICpcbiAqIEBwYXJhbSBbaXNFcXVhbF0gdGhlIGlzRXF1YWwgY29tcGFyYXRvciB0byB1c2UgaW5zdGVhZCBvZiBpc0RlZXBFcXVhbFxuICogQHJldHVybnMgdGhlIG1ldGhvZCB0byBjcmVhdGUgdGhlIGBpc0VxdWFsYCBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2lyY3VsYXJFcXVhbENyZWF0b3IoaXNFcXVhbD86IEVxdWFsaXR5Q29tcGFyYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQ2lyY3VsYXJFcXVhbChcbiAgICBjb21wYXJhdG9yOiBFcXVhbGl0eUNvbXBhcmF0b3IsXG4gICk6IEludGVybmFsRXF1YWxpdHlDb21wYXJhdG9yIHtcbiAgICBjb25zdCBfY29tcGFyYXRvciA9IGlzRXF1YWwgfHwgY29tcGFyYXRvcjtcblxuICAgIHJldHVybiBmdW5jdGlvbiBjaXJjdWxhckVxdWFsKFxuICAgICAgYSxcbiAgICAgIGIsXG4gICAgICBpbmRleE9yS2V5QSxcbiAgICAgIGluZGV4T3JLZXlCLFxuICAgICAgcGFyZW50QSxcbiAgICAgIHBhcmVudEIsXG4gICAgICBjYWNoZTogQ2FjaGUgPSBnZXROZXdDYWNoZSgpLFxuICAgICkge1xuICAgICAgY29uc3QgaXNDYWNoZWFibGVBID0gISFhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JztcbiAgICAgIGNvbnN0IGlzQ2FjaGVhYmxlQiA9ICEhYiAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCc7XG5cbiAgICAgIGlmIChpc0NhY2hlYWJsZUEgIT09IGlzQ2FjaGVhYmxlQikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNDYWNoZWFibGVBICYmICFpc0NhY2hlYWJsZUIpIHtcbiAgICAgICAgcmV0dXJuIF9jb21wYXJhdG9yKGEsIGIsIGNhY2hlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FjaGVkQSA9IGNhY2hlLmdldChhKTtcbiAgICAgIFxuICAgICAgaWYoY2FjaGVkQSAmJiBjYWNoZS5nZXQoYikpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZEEgPT09IGI7XG4gICAgICB9XG5cbiAgICAgIGNhY2hlLnNldChhLCBiKTtcbiAgICAgIGNhY2hlLnNldChiLCBhKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gX2NvbXBhcmF0b3IoYSwgYiwgY2FjaGUpO1xuXG4gICAgICBjYWNoZS5kZWxldGUoYSk7XG4gICAgICBjYWNoZS5kZWxldGUoYik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKiBhcmUgdGhlIGFycmF5cyBlcXVhbCBpbiB2YWx1ZVxuICpcbiAqIEBwYXJhbSBhIHRoZSBhcnJheSB0byB0ZXN0XG4gKiBAcGFyYW0gYiB0aGUgYXJyYXkgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0gaXNFcXVhbCB0aGUgY29tcGFyYXRvciB0byBkZXRlcm1pbmUgZXF1YWxpdHlcbiAqIEBwYXJhbSBtZXRhIHRoZSBtZXRhIG9iamVjdCB0byBwYXNzIHRocm91Z2hcbiAqIEByZXR1cm5zIGFyZSB0aGUgYXJyYXlzIGVxdWFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVBcnJheXNFcXVhbChcbiAgYTogYW55W10sXG4gIGI6IGFueVtdLFxuICBpc0VxdWFsOiBJbnRlcm5hbEVxdWFsaXR5Q29tcGFyYXRvcixcbiAgbWV0YTogYW55LFxuKSB7XG4gIGxldCBpbmRleCA9IGEubGVuZ3RoO1xuXG4gIGlmIChiLmxlbmd0aCAhPT0gaW5kZXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB3aGlsZSAoaW5kZXgtLSA+IDApIHtcbiAgICBpZiAoIWlzRXF1YWwoYVtpbmRleF0sIGJbaW5kZXhdLCBpbmRleCwgaW5kZXgsIGEsIGIsIG1ldGEpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogYXJlIHRoZSBtYXBzIGVxdWFsIGluIHZhbHVlXG4gKlxuICogQHBhcmFtIGEgdGhlIG1hcCB0byB0ZXN0XG4gKiBAcGFyYW0gYiB0aGUgbWFwIHRvIHRlc3QgYWdhaW5zdFxuICogQHBhcmFtIGlzRXF1YWwgdGhlIGNvbXBhcmF0b3IgdG8gZGV0ZXJtaW5lIGVxdWFsaXR5XG4gKiBAcGFyYW0gbWV0YSB0aGUgbWV0YSBtYXAgdG8gcGFzcyB0aHJvdWdoXG4gKiBAcmV0dXJucyBhcmUgdGhlIG1hcHMgZXF1YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZU1hcHNFcXVhbChcbiAgYTogTWFwPGFueSwgYW55PixcbiAgYjogTWFwPGFueSwgYW55PixcbiAgaXNFcXVhbDogSW50ZXJuYWxFcXVhbGl0eUNvbXBhcmF0b3IsXG4gIG1ldGE6IGFueSxcbikge1xuICBsZXQgaXNWYWx1ZUVxdWFsID0gYS5zaXplID09PSBiLnNpemU7XG5cbiAgaWYgKGlzVmFsdWVFcXVhbCAmJiBhLnNpemUpIHtcbiAgICBjb25zdCBtYXRjaGVkSW5kaWNlczogUmVjb3JkPG51bWJlciwgdHJ1ZT4gPSB7fTtcbiAgICBsZXQgaW5kZXhBID0gMDtcblxuICAgIGEuZm9yRWFjaCgoYVZhbHVlLCBhS2V5KSA9PiB7XG4gICAgICBpZiAoaXNWYWx1ZUVxdWFsKSB7XG4gICAgICAgIGxldCBoYXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICBsZXQgbWF0Y2hJbmRleEIgPSAwO1xuXG4gICAgICAgIGIuZm9yRWFjaCgoYlZhbHVlLCBiS2V5KSA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNNYXRjaCAmJiAhbWF0Y2hlZEluZGljZXNbbWF0Y2hJbmRleEJdKSB7XG4gICAgICAgICAgICBoYXNNYXRjaCA9XG4gICAgICAgICAgICAgIGlzRXF1YWwoYUtleSwgYktleSwgaW5kZXhBLCBtYXRjaEluZGV4QiwgYSwgYiwgbWV0YSkgJiZcbiAgICAgICAgICAgICAgaXNFcXVhbChhVmFsdWUsIGJWYWx1ZSwgYUtleSwgYktleSwgYSwgYiwgbWV0YSk7XG5cbiAgICAgICAgICAgIGlmIChoYXNNYXRjaCkge1xuICAgICAgICAgICAgICBtYXRjaGVkSW5kaWNlc1ttYXRjaEluZGV4Ql0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG1hdGNoSW5kZXhCKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGluZGV4QSsrO1xuICAgICAgICBpc1ZhbHVlRXF1YWwgPSBoYXNNYXRjaDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBpc1ZhbHVlRXF1YWw7XG59XG5cbnR5cGUgRGljdGlvbmFyeTxUeXBlPiA9IHtcbiAgW2tleTogc3RyaW5nXTogVHlwZTtcbiAgW2luZGV4OiBudW1iZXJdOiBUeXBlO1xufTtcblxuY29uc3QgT1dORVIgPSAnX293bmVyJztcblxuY29uc3QgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKFxuICBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxcbiAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbik7XG5cbi8qKlxuICogYXJlIHRoZSBvYmplY3RzIGVxdWFsIGluIHZhbHVlXG4gKlxuICogQHBhcmFtIGEgdGhlIG9iamVjdCB0byB0ZXN0XG4gKiBAcGFyYW0gYiB0aGUgb2JqZWN0IHRvIHRlc3QgYWdhaW5zdFxuICogQHBhcmFtIGlzRXF1YWwgdGhlIGNvbXBhcmF0b3IgdG8gZGV0ZXJtaW5lIGVxdWFsaXR5XG4gKiBAcGFyYW0gbWV0YSB0aGUgbWV0YSBvYmplY3QgdG8gcGFzcyB0aHJvdWdoXG4gKiBAcmV0dXJucyBhcmUgdGhlIG9iamVjdHMgZXF1YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZU9iamVjdHNFcXVhbChcbiAgYTogRGljdGlvbmFyeTxhbnk+LFxuICBiOiBEaWN0aW9uYXJ5PGFueT4sXG4gIGlzRXF1YWw6IEludGVybmFsRXF1YWxpdHlDb21wYXJhdG9yLFxuICBtZXRhOiBhbnksXG4pIHtcbiAgY29uc3Qga2V5c0EgPSBrZXlzKGEpO1xuXG4gIGxldCBpbmRleCA9IGtleXNBLmxlbmd0aDtcblxuICBpZiAoa2V5cyhiKS5sZW5ndGggIT09IGluZGV4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGluZGV4KSB7XG4gICAgbGV0IGtleTogc3RyaW5nO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gPiAwKSB7XG4gICAgICBrZXkgPSBrZXlzQVtpbmRleF07XG5cbiAgICAgIGlmIChrZXkgPT09IE9XTkVSKSB7XG4gICAgICAgIGNvbnN0IHJlYWN0RWxlbWVudEEgPSBpc1JlYWN0RWxlbWVudChhKTtcbiAgICAgICAgY29uc3QgcmVhY3RFbGVtZW50QiA9IGlzUmVhY3RFbGVtZW50KGIpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAocmVhY3RFbGVtZW50QSB8fCByZWFjdEVsZW1lbnRCKSAmJlxuICAgICAgICAgIHJlYWN0RWxlbWVudEEgIT09IHJlYWN0RWxlbWVudEJcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgIWhhc093blByb3BlcnR5KGIsIGtleSkgfHxcbiAgICAgICAgIWlzRXF1YWwoYVtrZXldLCBiW2tleV0sIGtleSwga2V5LCBhLCBiLCBtZXRhKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBhcmUgdGhlIHJlZ0V4cHMgZXF1YWwgaW4gdmFsdWVcbiAqXG4gKiBAcGFyYW0gYSB0aGUgcmVnRXhwIHRvIHRlc3RcbiAqIEBwYXJhbSBiIHRoZSByZWdFeHAgdG8gdGVzdCBhZ2FpbnNcbiAqIEByZXR1cm5zIGFyZSB0aGUgcmVnRXhwcyBlcXVhbFxuICovXG5leHBvcnQgY29uc3QgYXJlUmVnRXhwc0VxdWFsID0gKCgpID0+IHtcbiAgaWYgKC9mb28vZy5mbGFncyA9PT0gJ2cnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGFyZVJlZ0V4cHNFcXVhbChhOiBSZWdFeHAsIGI6IFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gYXJlUmVnRXhwc0VxdWFsRmFsbGJhY2soYTogUmVnRXhwLCBiOiBSZWdFeHApIHtcbiAgICByZXR1cm4gKFxuICAgICAgYS5zb3VyY2UgPT09IGIuc291cmNlICYmXG4gICAgICBhLmdsb2JhbCA9PT0gYi5nbG9iYWwgJiZcbiAgICAgIGEuaWdub3JlQ2FzZSA9PT0gYi5pZ25vcmVDYXNlICYmXG4gICAgICBhLm11bHRpbGluZSA9PT0gYi5tdWx0aWxpbmUgJiZcbiAgICAgIGEudW5pY29kZSA9PT0gYi51bmljb2RlICYmXG4gICAgICBhLnN0aWNreSA9PT0gYi5zdGlja3kgJiZcbiAgICAgIGEubGFzdEluZGV4ID09PSBiLmxhc3RJbmRleFxuICAgICk7XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIGFyZSB0aGUgc2V0cyBlcXVhbCBpbiB2YWx1ZVxuICpcbiAqIEBwYXJhbSBhIHRoZSBzZXQgdG8gdGVzdFxuICogQHBhcmFtIGIgdGhlIHNldCB0byB0ZXN0IGFnYWluc3RcbiAqIEBwYXJhbSBpc0VxdWFsIHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSBlcXVhbGl0eVxuICogQHBhcmFtIG1ldGEgdGhlIG1ldGEgc2V0IHRvIHBhc3MgdGhyb3VnaFxuICogQHJldHVybnMgYXJlIHRoZSBzZXRzIGVxdWFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVTZXRzRXF1YWwoXG4gIGE6IFNldDxhbnk+LFxuICBiOiBTZXQ8YW55PixcbiAgaXNFcXVhbDogSW50ZXJuYWxFcXVhbGl0eUNvbXBhcmF0b3IsXG4gIG1ldGE6IGFueSxcbikge1xuICBsZXQgaXNWYWx1ZUVxdWFsID0gYS5zaXplID09PSBiLnNpemU7XG5cbiAgaWYgKGlzVmFsdWVFcXVhbCAmJiBhLnNpemUpIHtcbiAgICBjb25zdCBtYXRjaGVkSW5kaWNlczogUmVjb3JkPG51bWJlciwgdHJ1ZT4gPSB7fTtcblxuICAgIGEuZm9yRWFjaCgoYVZhbHVlLCBhS2V5KSA9PiB7XG4gICAgICBpZiAoaXNWYWx1ZUVxdWFsKSB7XG4gICAgICAgIGxldCBoYXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICBsZXQgbWF0Y2hJbmRleCA9IDA7XG5cbiAgICAgICAgYi5mb3JFYWNoKChiVmFsdWUsIGJLZXkpID0+IHtcbiAgICAgICAgICBpZiAoIWhhc01hdGNoICYmICFtYXRjaGVkSW5kaWNlc1ttYXRjaEluZGV4XSkge1xuICAgICAgICAgICAgaGFzTWF0Y2ggPSBpc0VxdWFsKGFWYWx1ZSwgYlZhbHVlLCBhS2V5LCBiS2V5LCBhLCBiLCBtZXRhKTtcblxuICAgICAgICAgICAgaWYgKGhhc01hdGNoKSB7XG4gICAgICAgICAgICAgIG1hdGNoZWRJbmRpY2VzW21hdGNoSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtYXRjaEluZGV4Kys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlzVmFsdWVFcXVhbCA9IGhhc01hdGNoO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGlzVmFsdWVFcXVhbDtcbn1cbiIsICJpbXBvcnQge1xuICBhcmVBcnJheXNFcXVhbCxcbiAgYXJlTWFwc0VxdWFsLFxuICBhcmVPYmplY3RzRXF1YWwsXG4gIGFyZVJlZ0V4cHNFcXVhbCxcbiAgYXJlU2V0c0VxdWFsLFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1Byb21pc2VMaWtlLFxuICBzYW1lVmFsdWVaZXJvRXF1YWwsXG59IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQgdHlwZSB7IEVxdWFsaXR5Q29tcGFyYXRvciwgSW50ZXJuYWxFcXVhbGl0eUNvbXBhcmF0b3IgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgSEFTX01BUF9TVVBQT1JUID0gdHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IEhBU19TRVRfU1VQUE9SVCA9IHR5cGVvZiBTZXQgPT09ICdmdW5jdGlvbic7XG5cbmNvbnN0IHsgdmFsdWVPZiB9ID0gT2JqZWN0LnByb3RvdHlwZTtcblxuZXhwb3J0IHR5cGUgRXF1YWxpdHlDb21wYXJhdG9yQ3JlYXRvciA9IChcbiAgZm46IEVxdWFsaXR5Q29tcGFyYXRvcixcbikgPT4gSW50ZXJuYWxFcXVhbGl0eUNvbXBhcmF0b3I7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wYXJhdG9yKFxuICBjcmVhdGVJc0VxdWFsPzogRXF1YWxpdHlDb21wYXJhdG9yQ3JlYXRvcixcbik6IEVxdWFsaXR5Q29tcGFyYXRvciB7XG4gIGNvbnN0IGlzRXF1YWw6IEludGVybmFsRXF1YWxpdHlDb21wYXJhdG9yID1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuICAgIHR5cGVvZiBjcmVhdGVJc0VxdWFsID09PSAnZnVuY3Rpb24nXG4gICAgICA/IGNyZWF0ZUlzRXF1YWwoY29tcGFyYXRvcilcbiAgICAgIDogKFxuICAgICAgICAgIGE6IGFueSxcbiAgICAgICAgICBiOiBhbnksXG4gICAgICAgICAgaW5kZXhPcktleUE6IGFueSxcbiAgICAgICAgICBpbmRleE9yS2V5QjogYW55LFxuICAgICAgICAgIHBhcmVudEE6IGFueSxcbiAgICAgICAgICBwYXJlbnRCOiBhbnksXG4gICAgICAgICAgbWV0YTogYW55LFxuICAgICAgICApID0+IGNvbXBhcmF0b3IoYSwgYiwgbWV0YSk7XG4gIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAvKipcbiAgICogY29tcGFyZSB0aGUgdmFsdWUgb2YgdGhlIHR3byBvYmplY3RzIGFuZCByZXR1cm4gdHJ1ZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50IGluIHZhbHVlc1xuICAgKlxuICAgKiBAcGFyYW0gYSB0aGUgdmFsdWUgdG8gdGVzdCBhZ2FpbnN0XG4gICAqIEBwYXJhbSBiIHRoZSB2YWx1ZSB0byB0ZXN0XG4gICAqIEBwYXJhbSBbbWV0YV0gYW4gb3B0aW9uYWwgbWV0YSBvYmplY3QgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaCB0byBhbGwgZXF1YWxpdHkgdGVzdCBjYWxsc1xuICAgKiBAcmV0dXJucyBhcmUgYSBhbmQgYiBlcXVpdmFsZW50IGluIHZhbHVlXG4gICAqL1xuICBmdW5jdGlvbiBjb21wYXJhdG9yKGE6IGFueSwgYjogYW55LCBtZXRhPzogYW55KSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGlzUGxhaW5PYmplY3QoYSkgJiYgaXNQbGFpbk9iamVjdChiKSkge1xuICAgICAgICByZXR1cm4gYXJlT2JqZWN0c0VxdWFsKGEsIGIsIGlzRXF1YWwsIG1ldGEpO1xuICAgICAgfVxuXG4gICAgICBsZXQgYVNoYXBlID0gQXJyYXkuaXNBcnJheShhKTtcbiAgICAgIGxldCBiU2hhcGUgPSBBcnJheS5pc0FycmF5KGIpO1xuXG4gICAgICBpZiAoYVNoYXBlIHx8IGJTaGFwZSkge1xuICAgICAgICByZXR1cm4gYVNoYXBlID09PSBiU2hhcGUgJiYgYXJlQXJyYXlzRXF1YWwoYSwgYiwgaXNFcXVhbCwgbWV0YSk7XG4gICAgICB9XG5cbiAgICAgIGFTaGFwZSA9IGEgaW5zdGFuY2VvZiBEYXRlO1xuICAgICAgYlNoYXBlID0gYiBpbnN0YW5jZW9mIERhdGU7XG5cbiAgICAgIGlmIChhU2hhcGUgfHwgYlNoYXBlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYVNoYXBlID09PSBiU2hhcGUgJiYgc2FtZVZhbHVlWmVyb0VxdWFsKGEuZ2V0VGltZSgpLCBiLmdldFRpbWUoKSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgYVNoYXBlID0gYSBpbnN0YW5jZW9mIFJlZ0V4cDtcbiAgICAgIGJTaGFwZSA9IGIgaW5zdGFuY2VvZiBSZWdFeHA7XG5cbiAgICAgIGlmIChhU2hhcGUgfHwgYlNoYXBlKSB7XG4gICAgICAgIHJldHVybiBhU2hhcGUgPT09IGJTaGFwZSAmJiBhcmVSZWdFeHBzRXF1YWwoYSwgYik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1Byb21pc2VMaWtlKGEpIHx8IGlzUHJvbWlzZUxpa2UoYikpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICB9XG5cbiAgICAgIGlmIChIQVNfTUFQX1NVUFBPUlQpIHtcbiAgICAgICAgYVNoYXBlID0gYSBpbnN0YW5jZW9mIE1hcDtcbiAgICAgICAgYlNoYXBlID0gYiBpbnN0YW5jZW9mIE1hcDtcblxuICAgICAgICBpZiAoYVNoYXBlIHx8IGJTaGFwZSkge1xuICAgICAgICAgIHJldHVybiBhU2hhcGUgPT09IGJTaGFwZSAmJiBhcmVNYXBzRXF1YWwoYSwgYiwgaXNFcXVhbCwgbWV0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEhBU19TRVRfU1VQUE9SVCkge1xuICAgICAgICBhU2hhcGUgPSBhIGluc3RhbmNlb2YgU2V0O1xuICAgICAgICBiU2hhcGUgPSBiIGluc3RhbmNlb2YgU2V0O1xuXG4gICAgICAgIGlmIChhU2hhcGUgfHwgYlNoYXBlKSB7XG4gICAgICAgICAgcmV0dXJuIGFTaGFwZSA9PT0gYlNoYXBlICYmIGFyZVNldHNFcXVhbChhLCBiLCBpc0VxdWFsLCBtZXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYS52YWx1ZU9mICE9PSB2YWx1ZU9mIHx8IGIudmFsdWVPZiAhPT0gdmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc2FtZVZhbHVlWmVyb0VxdWFsKGEudmFsdWVPZigpLCBiLnZhbHVlT2YoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhcmVPYmplY3RzRXF1YWwoYSwgYiwgaXNFcXVhbCwgbWV0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgIT09IGEgJiYgYiAhPT0gYjtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJhdG9yO1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZUNvbXBhcmF0b3IgfSBmcm9tICcuL2NvbXBhcmF0b3InO1xuaW1wb3J0IHsgY3JlYXRlQ2lyY3VsYXJFcXVhbENyZWF0b3IsIHNhbWVWYWx1ZVplcm9FcXVhbCB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgeyBjcmVhdGVDb21wYXJhdG9yIGFzIGNyZWF0ZUN1c3RvbUVxdWFsLCBzYW1lVmFsdWVaZXJvRXF1YWwgfTtcblxuZXhwb3J0IGNvbnN0IGRlZXBFcXVhbCA9IGNyZWF0ZUNvbXBhcmF0b3IoKTtcbmV4cG9ydCBjb25zdCBzaGFsbG93RXF1YWwgPSBjcmVhdGVDb21wYXJhdG9yKCgpID0+IHNhbWVWYWx1ZVplcm9FcXVhbCk7XG5cbmV4cG9ydCBjb25zdCBjaXJjdWxhckRlZXBFcXVhbCA9IGNyZWF0ZUNvbXBhcmF0b3IoY3JlYXRlQ2lyY3VsYXJFcXVhbENyZWF0b3IoKSk7XG5leHBvcnQgY29uc3QgY2lyY3VsYXJTaGFsbG93RXF1YWwgPSBjcmVhdGVDb21wYXJhdG9yKFxuICBjcmVhdGVDaXJjdWxhckVxdWFsQ3JlYXRvcihzYW1lVmFsdWVaZXJvRXF1YWwpLFxuKTtcbiIsICJpbXBvcnQgdHlwZSB7IEFueUZuLCBPcHRpb25zIH0gZnJvbSAnLi4vaW5kZXguZCc7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAY29uc3RhbnQgREVGQVVMVF9PUFRJT05TXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX09QVElPTlM6IE9wdGlvbnM8QW55Rm4+ID0ge1xuICAgIGlzRGVlcEVxdWFsOiBmYWxzZSxcbiAgICBpc1Byb21pc2U6IGZhbHNlLFxuICAgIGlzUmVhY3Q6IGZhbHNlLFxuICAgIGlzU2VyaWFsaXplZDogZmFsc2UsXG4gICAgaXNTaGFsbG93RXF1YWw6IGZhbHNlLFxuICAgIG1hdGNoZXNBcmc6IHVuZGVmaW5lZCxcbiAgICBtYXRjaGVzS2V5OiB1bmRlZmluZWQsXG4gICAgbWF4QWdlOiB1bmRlZmluZWQsXG4gICAgbWF4QXJnczogdW5kZWZpbmVkLFxuICAgIG1heFNpemU6IDEsXG4gICAgb25FeHBpcmU6IHVuZGVmaW5lZCxcbiAgICBwcm9maWxlTmFtZTogdW5kZWZpbmVkLFxuICAgIHNlcmlhbGl6ZXI6IHVuZGVmaW5lZCxcbiAgICB1cGRhdGVDYWNoZUZvcktleTogdW5kZWZpbmVkLFxuICAgIHRyYW5zZm9ybUFyZ3M6IHVuZGVmaW5lZCxcbiAgICB1cGRhdGVFeHBpcmU6IGZhbHNlLFxufTtcbiIsICJpbXBvcnQgeyBERUZBVUxUX09QVElPTlMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHtcbiAgICBBbnlGbixcbiAgICBFeHBpcmF0aW9uLFxuICAgIElzRXF1YWwsXG4gICAgSXNNYXRjaGluZ0tleSxcbiAgICBLZXksXG4gICAgTW9pemVhYmxlLFxuICAgIE1vaXplZCxcbiAgICBPcHRpb25zLFxufSBmcm9tICcuLi9pbmRleC5kJztcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogbWV0aG9kIHRvIGNvbWJpbmUgZnVuY3Rpb25zIGFuZCByZXR1cm4gYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCBmaXJlcyB0aGVtIGFsbFxuICpcbiAqIEBwYXJhbSBmdW5jdGlvbnMgdGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlXG4gKiBAcmV0dXJucyB0aGUgY29tcG9zZWQgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmU8QXJncyBleHRlbmRzIGFueVtdLCBSZXN1bHQ+KFxuICAgIC4uLmZ1bmN0aW9uczogQXJyYXk8KC4uLmFyZ3M6IEFyZ3MpID0+IGFueT5cbik6ICgoLi4uYXJnczogQXJncykgPT4gUmVzdWx0KSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIGZ1bmN0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGY6IGFueSwgZzogYW55KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBnID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgIGcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IGY7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBnO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIG1ldGhvZCB0byBjb21wb3NlIGZ1bmN0aW9ucyBhbmQgcmV0dXJuIGEgc2luZ2xlIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIGZ1bmN0aW9ucyB0aGUgZnVuY3Rpb25zIHRvIGNvbXBvc2VcbiAqIEByZXR1cm5zIHRoZSBjb21wb3NlZCBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZTxNZXRob2Q+KC4uLmZ1bmN0aW9uczogTWV0aG9kW10pOiBNZXRob2Qge1xuICAgIHJldHVybiBmdW5jdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChmOiBhbnksIGc6IGFueSkge1xuICAgICAgICBpZiAodHlwZW9mIGYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKHRoaXM6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmKGcuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBmO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gZztcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBmaW5kIHRoZSBpbmRleCBvZiB0aGUgZXhwaXJhdGlvbiBiYXNlZCBvbiB0aGUga2V5XG4gKlxuICogQHBhcmFtIGV4cGlyYXRpb25zIHRoZSBsaXN0IG9mIGV4cGlyYXRpb25zXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gbWF0Y2hcbiAqIEByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZXhwaXJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEV4cGlyYXRpb25JbmRleChleHBpcmF0aW9uczogRXhwaXJhdGlvbltdLCBrZXk6IEtleSkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBleHBpcmF0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKGV4cGlyYXRpb25zW2luZGV4XS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjcmVhdGUgZnVuY3Rpb24gdGhhdCBmaW5kcyB0aGUgaW5kZXggb2YgdGhlIGtleSBpbiB0aGUgbGlzdCBvZiBjYWNoZSBrZXlzXG4gKlxuICogQHBhcmFtIGlzRXF1YWwgdGhlIGZ1bmN0aW9uIHRvIHRlc3QgaW5kaXZpZHVhbCBhcmd1bWVudCBlcXVhbGl0eVxuICogQHBhcmFtIGlzTWF0Y2hpbmdLZXkgdGhlIGZ1bmN0aW9uIHRvIHRlc3QgZnVsbCBrZXkgZXF1YWxpdHlcbiAqIEByZXR1cm5zIHRoZSBmdW5jdGlvbiB0aGF0IGZpbmRzIHRoZSBpbmRleCBvZiB0aGUga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaW5kS2V5SW5kZXgoXG4gICAgaXNFcXVhbDogSXNFcXVhbCxcbiAgICBpc01hdGNoaW5nS2V5OiBJc01hdGNoaW5nS2V5IHwgdW5kZWZpbmVkXG4pIHtcbiAgICBjb25zdCBhcmVLZXlzRXF1YWw6IElzTWF0Y2hpbmdLZXkgPVxuICAgICAgICB0eXBlb2YgaXNNYXRjaGluZ0tleSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBpc01hdGNoaW5nS2V5XG4gICAgICAgICAgICA6IGZ1bmN0aW9uIChjYWNoZUtleTogS2V5LCBrZXk6IEtleSkge1xuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGtleS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRXF1YWwoY2FjaGVLZXlbaW5kZXhdLCBrZXlbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5czogS2V5W10sIGtleTogS2V5KSB7XG4gICAgICAgIGZvciAobGV0IGtleXNJbmRleCA9IDA7IGtleXNJbmRleCA8IGtleXMubGVuZ3RoOyBrZXlzSW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGtleXNba2V5c0luZGV4XS5sZW5ndGggPT09IGtleS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBhcmVLZXlzRXF1YWwoa2V5c1trZXlzSW5kZXhdLCBrZXkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5c0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG59XG5cbnR5cGUgTWVyZ2VkT3B0aW9uczxcbiAgICBPcmlnaW5hbE9wdGlvbnMgZXh0ZW5kcyBPcHRpb25zPE1vaXplYWJsZT4sXG4gICAgTmV3T3B0aW9ucyBleHRlbmRzIE9wdGlvbnM8TW9pemVhYmxlPlxuPiA9IE9taXQ8T3JpZ2luYWxPcHRpb25zLCBrZXlvZiBOZXdPcHRpb25zPiAmIE5ld09wdGlvbnM7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIG1lcmdlIHR3byBvcHRpb25zIG9iamVjdHMsIGNvbWJpbmluZyBvciBjb21wb3NpbmcgZnVuY3Rpb25zIGFzIG5lY2Vzc2FyeVxuICpcbiAqIEBwYXJhbSBvcmlnaW5hbE9wdGlvbnMgdGhlIG9wdGlvbnMgdGhhdCBhbHJlYWR5IGV4aXN0IG9uIHRoZSBtZXRob2RcbiAqIEBwYXJhbSBuZXdPcHRpb25zIHRoZSBuZXcgb3B0aW9ucyB0byBtZXJnZVxuICogQHJldHVybnMgdGhlIG1lcmdlZCBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU9wdGlvbnM8XG4gICAgT3JpZ2luYWxPcHRpb25zIGV4dGVuZHMgT3B0aW9uczxNb2l6ZWFibGU+LFxuICAgIE5ld09wdGlvbnMgZXh0ZW5kcyBPcHRpb25zPE1vaXplYWJsZT5cbj4oXG4gICAgb3JpZ2luYWxPcHRpb25zOiBPcmlnaW5hbE9wdGlvbnMsXG4gICAgbmV3T3B0aW9uczogTmV3T3B0aW9ucyB8IHVuZGVmaW5lZFxuKTogTWVyZ2VkT3B0aW9uczxPcmlnaW5hbE9wdGlvbnMsIE5ld09wdGlvbnM+IHtcbiAgICBpZiAoIW5ld09wdGlvbnMgfHwgbmV3T3B0aW9ucyA9PT0gREVGQVVMVF9PUFRJT05TKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbE9wdGlvbnMgYXMgdW5rbm93biBhcyBNZXJnZWRPcHRpb25zPFxuICAgICAgICAgICAgT3JpZ2luYWxPcHRpb25zLFxuICAgICAgICAgICAgTmV3T3B0aW9uc1xuICAgICAgICA+O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9yaWdpbmFsT3B0aW9ucyxcbiAgICAgICAgLi4ubmV3T3B0aW9ucyxcbiAgICAgICAgb25DYWNoZUFkZDogY29tYmluZShvcmlnaW5hbE9wdGlvbnMub25DYWNoZUFkZCwgbmV3T3B0aW9ucy5vbkNhY2hlQWRkKSxcbiAgICAgICAgb25DYWNoZUNoYW5nZTogY29tYmluZShcbiAgICAgICAgICAgIG9yaWdpbmFsT3B0aW9ucy5vbkNhY2hlQ2hhbmdlLFxuICAgICAgICAgICAgbmV3T3B0aW9ucy5vbkNhY2hlQ2hhbmdlXG4gICAgICAgICksXG4gICAgICAgIG9uQ2FjaGVIaXQ6IGNvbWJpbmUob3JpZ2luYWxPcHRpb25zLm9uQ2FjaGVIaXQsIG5ld09wdGlvbnMub25DYWNoZUhpdCksXG4gICAgICAgIHRyYW5zZm9ybUFyZ3M6IGNvbXBvc2UoXG4gICAgICAgICAgICBvcmlnaW5hbE9wdGlvbnMudHJhbnNmb3JtQXJncyxcbiAgICAgICAgICAgIG5ld09wdGlvbnMudHJhbnNmb3JtQXJnc1xuICAgICAgICApLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01vaXplZChcbiAgICBmbjogTW9pemVhYmxlIHwgTW9pemVkIHwgT3B0aW9uczxBbnlGbj5cbik6IGZuIGlzIE1vaXplZCB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiAoZm4gYXMgTW9pemVhYmxlKS5pc01vaXplZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE5hbWUoXG4gICAgZm46IE1vaXplZCxcbiAgICBvcmlnaW5hbEZ1bmN0aW9uTmFtZTogc3RyaW5nLFxuICAgIHByb2ZpbGVOYW1lOiBzdHJpbmdcbikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBwcm9maWxlTmFtZSB8fCBvcmlnaW5hbEZ1bmN0aW9uTmFtZSB8fCAnYW5vbnltb3VzJztcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogYG1vaXplZCgke25hbWV9KWAsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIEZvciBlbmdpbmVzIHdoZXJlIGBmdW5jdGlvbi5uYW1lYCBpcyBub3QgY29uZmlndXJhYmxlLCBkbyBub3RoaW5nLlxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVGaW5kS2V5SW5kZXgsIGZpbmRFeHBpcmF0aW9uSW5kZXggfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHR5cGUge1xuICAgIEFueUZuLFxuICAgIENhY2hlLFxuICAgIEV4cGlyYXRpb24sXG4gICAgSXNFcXVhbCxcbiAgICBJc01hdGNoaW5nS2V5LFxuICAgIEtleSxcbiAgICBPbkNhY2hlT3BlcmF0aW9uLFxuICAgIE9wdGlvbnMsXG59IGZyb20gJy4uL2luZGV4LmQnO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjbGVhciBhbiBhY3RpdmUgZXhwaXJhdGlvbiBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3QgaWYgYXBwbGljYWJsZVxuICpcbiAqIEBwYXJhbSBleHBpcmF0aW9ucyB0aGUgbGlzdCBvZiBleHBpcmF0aW9uc1xuICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGNsZWFyXG4gKiBAcGFyYW0gc2hvdWxkUmVtb3ZlIHNob3VsZCB0aGUgZXhwaXJhdGlvbiBiZSByZW1vdmVkIGZyb20gdGhlIGxpc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRXhwaXJhdGlvbihcbiAgICBleHBpcmF0aW9uczogRXhwaXJhdGlvbltdLFxuICAgIGtleTogS2V5LFxuICAgIHNob3VsZFJlbW92ZT86IGJvb2xlYW5cbikge1xuICAgIGNvbnN0IGV4cGlyYXRpb25JbmRleCA9IGZpbmRFeHBpcmF0aW9uSW5kZXgoZXhwaXJhdGlvbnMsIGtleSk7XG5cbiAgICBpZiAoZXhwaXJhdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZXhwaXJhdGlvbnNbZXhwaXJhdGlvbkluZGV4XS50aW1lb3V0SWQpO1xuXG4gICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgIGV4cGlyYXRpb25zLnNwbGljZShleHBpcmF0aW9uSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgdGhlIHRpbWVvdXQgZm9yIHRoZSBnaXZlbiBleHBpcmF0aW9uIG1ldGhvZC4gSWYgdGhlIGFiaWxpdHkgdG8gYHVucmVmYFxuICogZXhpc3RzLCB0aGVuIGFwcGx5IGl0IHRvIGF2b2lkIHByb2Nlc3MgbG9ja3MgaW4gTm9kZUpTLlxuICpcbiAqIEBwYXJhbSBleHBpcmF0aW9uTWV0aG9kIHRoZSBtZXRob2QgdG8gZmlyZSB1cG9uIGV4cGlyYXRpb25cbiAqIEBwYXJhbSBtYXhBZ2UgdGhlIHRpbWUgdG8gZXhwaXJlIGFmdGVyXG4gKiBAcmV0dXJucyB0aGUgdGltZW91dCBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGltZW91dChleHBpcmF0aW9uTWV0aG9kOiAoKSA9PiB2b2lkLCBtYXhBZ2U6IG51bWJlcikge1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZXhwaXJhdGlvbk1ldGhvZCwgbWF4QWdlKTtcblxuICAgIGlmICh0eXBlb2YgdGltZW91dElkLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRpbWVvdXRJZC51bnJlZigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aW1lb3V0SWQ7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGNyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY2FjaGUsIGFkZHMgYW4gZXhwaXJhdGlvbiBmb3IgaXRcbiAqXG4gKiBAcGFyYW0gZXhwaXJhdGlvbnMgdGhlIG11dGFibGUgZXhwaXJhdGlvbnMgYXJyYXlcbiAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIHBhc3NlZCBvbiBpbml0aWFsaXphdGlvblxuICogQHBhcmFtIGlzRXF1YWwgdGhlIGZ1bmN0aW9uIHRvIGNoZWNrIGFyZ3VtZW50IGVxdWFsaXR5XG4gKiBAcGFyYW0gaXNNYXRjaGluZ0tleSB0aGUgZnVuY3Rpb24gdG8gY2hlY2sgY29tcGxldGUga2V5IGVxdWFsaXR5XG4gKiBAcmV0dXJucyB0aGUgb25DYWNoZUFkZCBmdW5jdGlvbiB0byBoYW5kbGUgZXhwaXJhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9uQ2FjaGVBZGRTZXRFeHBpcmF0aW9uPE1vaXplYWJsZUZuIGV4dGVuZHMgQW55Rm4+KFxuICAgIGV4cGlyYXRpb25zOiBFeHBpcmF0aW9uW10sXG4gICAgb3B0aW9uczogT3B0aW9uczxNb2l6ZWFibGVGbj4sXG4gICAgaXNFcXVhbDogSXNFcXVhbCxcbiAgICBpc01hdGNoaW5nS2V5OiBJc01hdGNoaW5nS2V5XG4pOiBPbkNhY2hlT3BlcmF0aW9uPE1vaXplYWJsZUZuPiB7XG4gICAgY29uc3QgeyBtYXhBZ2UgfSA9IG9wdGlvbnM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gb25DYWNoZUFkZChcbiAgICAgICAgY2FjaGU6IENhY2hlPE1vaXplYWJsZUZuPixcbiAgICAgICAgbW9pemVkT3B0aW9uczogT3B0aW9uczxNb2l6ZWFibGVGbj4sXG4gICAgICAgIG1vaXplZDogTW9pemVhYmxlRm5cbiAgICApIHtcbiAgICAgICAgY29uc3Qga2V5OiBhbnkgPSBjYWNoZS5rZXlzWzBdO1xuXG4gICAgICAgIGlmIChmaW5kRXhwaXJhdGlvbkluZGV4KGV4cGlyYXRpb25zLCBrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZXhwaXJhdGlvbk1ldGhvZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5kS2V5SW5kZXggPSBjcmVhdGVGaW5kS2V5SW5kZXgoaXNFcXVhbCwgaXNNYXRjaGluZ0tleSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBrZXlJbmRleDogbnVtYmVyID0gZmluZEtleUluZGV4KGNhY2hlLmtleXMsIGtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWU6IGFueSA9IGNhY2hlLnZhbHVlc1trZXlJbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAofmtleUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLmtleXMuc3BsaWNlKGtleUluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUudmFsdWVzLnNwbGljZShrZXlJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uQ2FjaGVDaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25DYWNoZUNoYW5nZShjYWNoZSwgbW9pemVkT3B0aW9ucywgbW9pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsZWFyRXhwaXJhdGlvbihleHBpcmF0aW9ucywga2V5LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMub25FeHBpcmUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkV4cGlyZShrZXkpID09PSBmYWxzZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5rZXlzLnVuc2hpZnQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUudmFsdWVzLnVuc2hpZnQodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIG9uQ2FjaGVBZGQoY2FjaGUsIG1vaXplZE9wdGlvbnMsIG1vaXplZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uQ2FjaGVDaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25DYWNoZUNoYW5nZShjYWNoZSwgbW9pemVkT3B0aW9ucywgbW9pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGV4cGlyYXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGlyYXRpb25NZXRob2QsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHRpbWVvdXRJZDogY3JlYXRlVGltZW91dChleHBpcmF0aW9uTWV0aG9kLCBtYXhBZ2UpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBhIGNhY2hlIGl0ZW0gaXMgaGl0LCByZXNldCB0aGUgZXhwaXJhdGlvblxuICpcbiAqIEBwYXJhbSBleHBpcmF0aW9ucyB0aGUgbXV0YWJsZSBleHBpcmF0aW9ucyBhcnJheVxuICogQHBhcmFtIG9wdGlvbnMgdGhlIG9wdGlvbnMgcGFzc2VkIG9uIGluaXRpYWxpemF0aW9uXG4gKiBAcmV0dXJucyB0aGUgb25DYWNoZUFkZCBmdW5jdGlvbiB0byBoYW5kbGUgZXhwaXJhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9uQ2FjaGVIaXRSZXNldEV4cGlyYXRpb248TW9pemVhYmxlRm4gZXh0ZW5kcyBBbnlGbj4oXG4gICAgZXhwaXJhdGlvbnM6IEV4cGlyYXRpb25bXSxcbiAgICBvcHRpb25zOiBPcHRpb25zPE1vaXplYWJsZUZuPlxuKTogT25DYWNoZU9wZXJhdGlvbjxNb2l6ZWFibGVGbj4ge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbkNhY2hlSGl0KGNhY2hlOiBDYWNoZTxNb2l6ZWFibGVGbj4pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gY2FjaGUua2V5c1swXTtcbiAgICAgICAgY29uc3QgZXhwaXJhdGlvbkluZGV4ID0gZmluZEV4cGlyYXRpb25JbmRleChleHBpcmF0aW9ucywga2V5KTtcblxuICAgICAgICBpZiAofmV4cGlyYXRpb25JbmRleCkge1xuICAgICAgICAgICAgY2xlYXJFeHBpcmF0aW9uKGV4cGlyYXRpb25zLCBrZXksIGZhbHNlKTtcblxuICAgICAgICAgICAgZXhwaXJhdGlvbnNbZXhwaXJhdGlvbkluZGV4XS50aW1lb3V0SWQgPSBjcmVhdGVUaW1lb3V0KFxuICAgICAgICAgICAgICAgIGV4cGlyYXRpb25zW2V4cGlyYXRpb25JbmRleF0uZXhwaXJhdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1heEFnZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGdldCB0aGUgbWljcm8tbWVtb2l6ZSBvcHRpb25zIHNwZWNpZmljIHRvIHRoZSBtYXhBZ2Ugb3B0aW9uXG4gKlxuICogQHBhcmFtIGV4cGlyYXRpb25zIHRoZSBleHBpcmF0aW9ucyBmb3IgdGhlIG1lbW9pemVkIGZ1bmN0aW9uXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplclxuICogQHBhcmFtIGlzRXF1YWwgdGhlIGZ1bmN0aW9uIHRvIHRlc3QgZXF1YWxpdHkgb2YgdGhlIGtleSBvbiBhIHBlci1hcmd1bWVudCBiYXNpc1xuICogQHBhcmFtIGlzTWF0Y2hpbmdLZXkgdGhlIGZ1bmN0aW9uIHRvIHRlc3QgZXF1YWxpdHkgb2YgdGhlIHdob2xlIGtleVxuICogQHJldHVybnMgdGhlIG9iamVjdCBvZiBvcHRpb25zIGJhc2VkIG9uIHRoZSBlbnRyaWVzIHBhc3NlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF4QWdlT3B0aW9uczxNb2l6ZWFibGVGbiBleHRlbmRzIEFueUZuPihcbiAgICBleHBpcmF0aW9uczogRXhwaXJhdGlvbltdLFxuICAgIG9wdGlvbnM6IE9wdGlvbnM8TW9pemVhYmxlRm4+LFxuICAgIGlzRXF1YWw6IElzRXF1YWwsXG4gICAgaXNNYXRjaGluZ0tleTogSXNNYXRjaGluZ0tleVxuKToge1xuICAgIG9uQ2FjaGVBZGQ6IE9uQ2FjaGVPcGVyYXRpb248TW9pemVhYmxlRm4+IHwgdW5kZWZpbmVkO1xuICAgIG9uQ2FjaGVIaXQ6IE9uQ2FjaGVPcGVyYXRpb248TW9pemVhYmxlRm4+IHwgdW5kZWZpbmVkO1xufSB7XG4gICAgY29uc3Qgb25DYWNoZUFkZCA9XG4gICAgICAgIHR5cGVvZiBvcHRpb25zLm1heEFnZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUob3B0aW9ucy5tYXhBZ2UpXG4gICAgICAgICAgICA/IGNyZWF0ZU9uQ2FjaGVBZGRTZXRFeHBpcmF0aW9uKFxuICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgaXNFcXVhbCxcbiAgICAgICAgICAgICAgICAgIGlzTWF0Y2hpbmdLZXlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvbkNhY2hlQWRkLFxuICAgICAgICBvbkNhY2hlSGl0OlxuICAgICAgICAgICAgb25DYWNoZUFkZCAmJiBvcHRpb25zLnVwZGF0ZUV4cGlyZVxuICAgICAgICAgICAgICAgID8gY3JlYXRlT25DYWNoZUhpdFJlc2V0RXhwaXJhdGlvbihleHBpcmF0aW9ucywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHtcbiAgICBHbG9iYWxTdGF0c09iamVjdCxcbiAgICBNb2l6ZWFibGUsXG4gICAgT25DYWNoZU9wZXJhdGlvbixcbiAgICBPcHRpb25zLFxuICAgIFN0YXRzQ2FjaGUsXG4gICAgU3RhdHNQcm9maWxlLFxufSBmcm9tICcuLi9pbmRleC5kJztcblxuZXhwb3J0IGNvbnN0IHN0YXRzQ2FjaGU6IFN0YXRzQ2FjaGUgPSB7XG4gICAgYW5vbnltb3VzUHJvZmlsZU5hbWVDb3VudGVyOiAxLFxuICAgIGlzQ29sbGVjdGluZ1N0YXRzOiBmYWxzZSxcbiAgICBwcm9maWxlczoge30sXG59O1xuXG5sZXQgaGFzV2FybmluZ0Rpc3BsYXllZCA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJTdGF0cyhwcm9maWxlTmFtZT86IHN0cmluZykge1xuICAgIGlmIChwcm9maWxlTmFtZSkge1xuICAgICAgICBkZWxldGUgc3RhdHNDYWNoZS5wcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdHNDYWNoZS5wcm9maWxlcyA9IHt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYWN0aXZhdGUgc3RhdHMgY29sbGVjdGlvblxuICpcbiAqIEBwYXJhbSBpc0NvbGxlY3RpbmdTdGF0cyBzaG91bGQgc3RhdHMgYmUgY29sbGVjdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0U3RhdHMoaXNDb2xsZWN0aW5nU3RhdHMgPSB0cnVlKSB7XG4gICAgc3RhdHNDYWNoZS5pc0NvbGxlY3RpbmdTdGF0cyA9IGlzQ29sbGVjdGluZ1N0YXRzO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGluY3JlbWVudHMgdGhlIG51bWJlciBvZiBjYWxscyBmb3IgdGhlIHNwZWNpZmljIHByb2ZpbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9uQ2FjaGVBZGRJbmNyZW1lbnRDYWxsczxNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZT4oXG4gICAgb3B0aW9uczogT3B0aW9uczxNb2l6ZWFibGVGbj5cbikge1xuICAgIGNvbnN0IHsgcHJvZmlsZU5hbWUgfSA9IG9wdGlvbnM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocHJvZmlsZU5hbWUgJiYgIXN0YXRzQ2FjaGUucHJvZmlsZXNbcHJvZmlsZU5hbWVdKSB7XG4gICAgICAgICAgICBzdGF0c0NhY2hlLnByb2ZpbGVzW3Byb2ZpbGVOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBjYWxsczogMCxcbiAgICAgICAgICAgICAgICBoaXRzOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRzQ2FjaGUucHJvZmlsZXNbcHJvZmlsZU5hbWVdLmNhbGxzKys7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogY3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBpbmNyZW1lbnRzIHRoZSBudW1iZXIgb2YgY2FsbHMgYW5kIGNhY2hlIGhpdHMgZm9yIHRoZSBzcGVjaWZpYyBwcm9maWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPbkNhY2hlSGl0SW5jcmVtZW50Q2FsbHNBbmRIaXRzPFxuICAgIE1vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlXG4+KG9wdGlvbnM6IE9wdGlvbnM8TW9pemVhYmxlRm4+KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgeyBwcm9maWxlcyB9ID0gc3RhdHNDYWNoZTtcbiAgICAgICAgY29uc3QgeyBwcm9maWxlTmFtZSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAoIXByb2ZpbGVzW3Byb2ZpbGVOYW1lXSkge1xuICAgICAgICAgICAgcHJvZmlsZXNbcHJvZmlsZU5hbWVdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxzOiAwLFxuICAgICAgICAgICAgICAgIGhpdHM6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvZmlsZXNbcHJvZmlsZU5hbWVdLmNhbGxzKys7XG4gICAgICAgIHByb2ZpbGVzW3Byb2ZpbGVOYW1lXS5oaXRzKys7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogZ2V0IHRoZSBwcm9maWxlTmFtZSBmb3IgdGhlIGZ1bmN0aW9uIHdoZW4gb25lIGlzIG5vdCBwcm92aWRlZFxuICpcbiAqIEBwYXJhbSBmbiB0aGUgZnVuY3Rpb24gdG8gYmUgbWVtb2l6ZWRcbiAqIEByZXR1cm5zIHRoZSBkZXJpdmVkIHByb2ZpbGVOYW1lIGZvciB0aGUgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9maWxlTmFtZTxNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZT4oXG4gICAgZm46IE1vaXplYWJsZUZuXG4pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBmbi5kaXNwbGF5TmFtZSB8fFxuICAgICAgICBmbi5uYW1lIHx8XG4gICAgICAgIGBBbm9ueW1vdXMgJHtzdGF0c0NhY2hlLmFub255bW91c1Byb2ZpbGVOYW1lQ291bnRlcisrfWBcbiAgICApO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBnZXQgdGhlIHVzYWdlIHBlcmNlbnRhZ2UgYmFzZWQgb24gdGhlIG51bWJlciBvZiBoaXRzIGFuZCB0b3RhbCBjYWxsc1xuICpcbiAqIEBwYXJhbSBjYWxscyB0aGUgbnVtYmVyIG9mIGNhbGxzIG1hZGVcbiAqIEBwYXJhbSBoaXRzIHRoZSBudW1iZXIgb2YgY2FjaGUgaGl0cyB3aGVuIGNhbGxlZFxuICogQHJldHVybnMgdGhlIHVzYWdlIGFzIGEgcGVyY2VudGFnZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzYWdlUGVyY2VudGFnZShjYWxsczogbnVtYmVyLCBoaXRzOiBudW1iZXIpIHtcbiAgICByZXR1cm4gY2FsbHMgPyBgJHsoKGhpdHMgLyBjYWxscykgKiAxMDApLnRvRml4ZWQoNCl9JWAgOiAnMC4wMDAwJSc7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGdldCB0aGUgc3RhdGlzdGljcyBmb3IgYSBnaXZlbiBtZXRob2Qgb3IgYWxsIG1ldGhvZHNcbiAqXG4gKiBAcGFyYW0gW3Byb2ZpbGVOYW1lXSB0aGUgcHJvZmlsZU5hbWUgdG8gZ2V0IHRoZSBzdGF0aXN0aWNzIGZvciAoZ2V0IGFsbCB3aGVuIG5vdCBwcm92aWRlZClcbiAqIEByZXR1cm5zIHRoZSBvYmplY3Qgd2l0aCBzdGF0cyBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHMocHJvZmlsZU5hbWU/OiBzdHJpbmcpOiBHbG9iYWxTdGF0c09iamVjdCB7XG4gICAgaWYgKCFzdGF0c0NhY2hlLmlzQ29sbGVjdGluZ1N0YXRzICYmICFoYXNXYXJuaW5nRGlzcGxheWVkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICdTdGF0cyBhcmUgbm90IGN1cnJlbnRseSBiZWluZyBjb2xsZWN0ZWQsIHBsZWFzZSBydW4gXCJjb2xsZWN0U3RhdHNcIiB0byBlbmFibGUgdGhlbS4nXG4gICAgICAgICk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuXG4gICAgICAgIGhhc1dhcm5pbmdEaXNwbGF5ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHsgcHJvZmlsZXMgfSA9IHN0YXRzQ2FjaGU7XG5cbiAgICBpZiAocHJvZmlsZU5hbWUpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlc1twcm9maWxlTmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FsbHM6IDAsXG4gICAgICAgICAgICAgICAgaGl0czogMCxcbiAgICAgICAgICAgICAgICB1c2FnZTogJzAuMDAwMCUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgW3Byb2ZpbGVOYW1lXTogcHJvZmlsZSB9ID0gcHJvZmlsZXM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnByb2ZpbGUsXG4gICAgICAgICAgICB1c2FnZTogZ2V0VXNhZ2VQZXJjZW50YWdlKHByb2ZpbGUuY2FsbHMsIHByb2ZpbGUuaGl0cyksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGxldGVTdGF0czogU3RhdHNQcm9maWxlID0gT2JqZWN0LmtleXMoc3RhdHNDYWNoZS5wcm9maWxlcykucmVkdWNlKFxuICAgICAgICAoY29tcGxldGVQcm9maWxlcywgcHJvZmlsZU5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbXBsZXRlUHJvZmlsZXMuY2FsbHMgKz0gcHJvZmlsZXNbcHJvZmlsZU5hbWVdLmNhbGxzO1xuICAgICAgICAgICAgY29tcGxldGVQcm9maWxlcy5oaXRzICs9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXS5oaXRzO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGVQcm9maWxlcztcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2FsbHM6IDAsXG4gICAgICAgICAgICBoaXRzOiAwLFxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNvbXBsZXRlU3RhdHMsXG4gICAgICAgIHByb2ZpbGVzOiBPYmplY3Qua2V5cyhwcm9maWxlcykucmVkdWNlKFxuICAgICAgICAgICAgKGNvbXB1dGVkUHJvZmlsZXMsIHByb2ZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRQcm9maWxlc1twcm9maWxlTmFtZV0gPSBnZXRTdGF0cyhwcm9maWxlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZWRQcm9maWxlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBTdGF0c1Byb2ZpbGU+XG4gICAgICAgICksXG4gICAgICAgIHVzYWdlOiBnZXRVc2FnZVBlcmNlbnRhZ2UoY29tcGxldGVTdGF0cy5jYWxscywgY29tcGxldGVTdGF0cy5oaXRzKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGZ1bmN0aW9uIGdldFN0YXRzT3B0aW9uc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogZ2V0IHRoZSBvcHRpb25zIHNwZWNpZmljIHRvIHN0b3Jpbmcgc3RhdGlzdGljc1xuICpcbiAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplclxuICogQHJldHVybnMge09iamVjdH0gdGhlIG9wdGlvbnMgc3BlY2lmaWMgdG8ga2VlcGluZyBzdGF0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHNPcHRpb25zPE1vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlPihcbiAgICBvcHRpb25zOiBPcHRpb25zPE1vaXplYWJsZUZuPlxuKToge1xuICAgIG9uQ2FjaGVBZGQ/OiBPbkNhY2hlT3BlcmF0aW9uPE1vaXplYWJsZUZuPjtcbiAgICBvbkNhY2hlSGl0PzogT25DYWNoZU9wZXJhdGlvbjxNb2l6ZWFibGVGbj47XG59IHtcbiAgICByZXR1cm4gc3RhdHNDYWNoZS5pc0NvbGxlY3RpbmdTdGF0c1xuICAgICAgICA/IHtcbiAgICAgICAgICAgICAgb25DYWNoZUFkZDogY3JlYXRlT25DYWNoZUFkZEluY3JlbWVudENhbGxzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICBvbkNhY2hlSGl0OiBjcmVhdGVPbkNhY2hlSGl0SW5jcmVtZW50Q2FsbHNBbmRIaXRzKG9wdGlvbnMpLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7fTtcbn1cbiIsICJpbXBvcnQgeyBjbGVhckV4cGlyYXRpb24gfSBmcm9tICcuL21heEFnZSc7XG5pbXBvcnQgeyBjbGVhclN0YXRzLCBnZXRTdGF0cyB9IGZyb20gJy4vc3RhdHMnO1xuaW1wb3J0IHsgY3JlYXRlRmluZEtleUluZGV4IH0gZnJvbSAnLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHtcbiAgICBLZXksXG4gICAgTWVtb2l6ZWQsXG4gICAgTW9pemVhYmxlLFxuICAgIE1vaXplQ29uZmlndXJhdGlvbixcbiAgICBNb2l6ZWQsXG4gICAgT3B0aW9ucyxcbiAgICBTdGF0c1Byb2ZpbGUsXG59IGZyb20gJy4uL2luZGV4LmQnO1xuXG5jb25zdCBBTFdBWVNfU0tJUFBFRF9QUk9QRVJUSUVTOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHtcbiAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgY2FsbGVlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBjb25zdHJ1Y3RvcjogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgbmFtZTogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjb3B5IHRoZSBzdGF0aWMgcHJvcGVydGllcyBmcm9tIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB0byB0aGUgbW9pemVkXG4gKiBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSBvcmlnaW5hbEZuIHRoZSBmdW5jdGlvbiBjb3B5aW5nIGZyb21cbiAqIEBwYXJhbSBuZXdGbiB0aGUgZnVuY3Rpb24gY29weWluZyB0b1xuICogQHBhcmFtIHNraXBwZWRQcm9wZXJ0aWVzIHRoZSBsaXN0IG9mIHNraXBwZWQgcHJvcGVydGllcywgaWYgYW55XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5U3RhdGljUHJvcGVydGllczxcbiAgICBPcmlnaW5hbE1vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlLFxuICAgIE5ld01vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlXG4+KFxuICAgIG9yaWdpbmFsRm46IE9yaWdpbmFsTW9pemVhYmxlRm4sXG4gICAgbmV3Rm46IE5ld01vaXplYWJsZUZuLFxuICAgIHNraXBwZWRQcm9wZXJ0aWVzOiBzdHJpbmdbXSA9IFtdXG4pIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvcmlnaW5hbEZuKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhQUxXQVlTX1NLSVBQRURfUFJPUEVSVElFU1twcm9wZXJ0eV0gJiZcbiAgICAgICAgICAgIHNraXBwZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRm4sXG4gICAgICAgICAgICAgICAgcHJvcGVydHlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdGbiwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gcHJvcGVyaXRlcyBtYXkgbm90IGFsaWduXG4gICAgICAgICAgICAgICAgbmV3Rm5bcHJvcGVydHldID0gb3JpZ2luYWxGbltwcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYWRkIG1ldGhvZHMgdG8gdGhlIG1vaXplZCBmdWN0aW9uIG9iamVjdCB0aGF0IGFsbG93IGV4dHJhIGZlYXR1cmVzXG4gKlxuICogQHBhcmFtIG1lbW9pemVkIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBmcm9tIG1pY3JvLW1lbW9pemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEluc3RhbmNlTWV0aG9kczxNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZT4oXG4gICAgbWVtb2l6ZWQ6IE1vaXplYWJsZSxcbiAgICB7IGV4cGlyYXRpb25zIH06IE1vaXplQ29uZmlndXJhdGlvbjxNb2l6ZWFibGVGbj5cbikge1xuICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gbWVtb2l6ZWQ7XG5cbiAgICBjb25zdCBmaW5kS2V5SW5kZXggPSBjcmVhdGVGaW5kS2V5SW5kZXgoXG4gICAgICAgIG9wdGlvbnMuaXNFcXVhbCxcbiAgICAgICAgb3B0aW9ucy5pc01hdGNoaW5nS2V5XG4gICAgKTtcblxuICAgIGNvbnN0IG1vaXplZCA9IG1lbW9pemVkIGFzIHVua25vd24gYXMgTW9pemVkPFxuICAgICAgICBNb2l6ZWFibGVGbixcbiAgICAgICAgT3B0aW9uczxNb2l6ZWFibGVGbj5cbiAgICA+O1xuXG4gICAgbW9pemVkLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBfbWljcm9NZW1vaXplT3B0aW9uczogeyBvbkNhY2hlQ2hhbmdlIH0sXG4gICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgfSA9IG1vaXplZDtcblxuICAgICAgICBjYWNoZS5rZXlzLmxlbmd0aCA9IDA7XG4gICAgICAgIGNhY2hlLnZhbHVlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGlmIChvbkNhY2hlQ2hhbmdlKSB7XG4gICAgICAgICAgICBvbkNhY2hlQ2hhbmdlKGNhY2hlLCBtb2l6ZWQub3B0aW9ucywgbW9pemVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBtb2l6ZWQuY2xlYXJTdGF0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJTdGF0cyhtb2l6ZWQub3B0aW9ucy5wcm9maWxlTmFtZSk7XG4gICAgfTtcblxuICAgIG1vaXplZC5nZXQgPSBmdW5jdGlvbiAoa2V5OiBLZXkpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgX21pY3JvTWVtb2l6ZU9wdGlvbnM6IHsgdHJhbnNmb3JtS2V5IH0sXG4gICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgfSA9IG1vaXplZDtcblxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRyYW5zZm9ybUtleSA/IHRyYW5zZm9ybUtleShrZXkpIDoga2V5O1xuICAgICAgICBjb25zdCBrZXlJbmRleCA9IGZpbmRLZXlJbmRleChjYWNoZS5rZXlzLCBjYWNoZUtleSk7XG5cbiAgICAgICAgcmV0dXJuIGtleUluZGV4ICE9PSAtMSA/IG1vaXplZC5hcHBseSh0aGlzLCBrZXkpIDogdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBtb2l6ZWQuZ2V0U3RhdHMgPSBmdW5jdGlvbiAoKTogU3RhdHNQcm9maWxlIHtcbiAgICAgICAgcmV0dXJuIGdldFN0YXRzKG1vaXplZC5vcHRpb25zLnByb2ZpbGVOYW1lKTtcbiAgICB9O1xuXG4gICAgbW9pemVkLmhhcyA9IGZ1bmN0aW9uIChrZXk6IEtleSkge1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybUtleSB9ID0gbW9pemVkLl9taWNyb01lbW9pemVPcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdHJhbnNmb3JtS2V5ID8gdHJhbnNmb3JtS2V5KGtleSkgOiBrZXk7XG5cbiAgICAgICAgcmV0dXJuIGZpbmRLZXlJbmRleChtb2l6ZWQuY2FjaGUua2V5cywgY2FjaGVLZXkpICE9PSAtMTtcbiAgICB9O1xuXG4gICAgbW9pemVkLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBtb2l6ZWQuY2FjaGVTbmFwc2hvdC5rZXlzO1xuICAgIH07XG5cbiAgICBtb2l6ZWQucmVtb3ZlID0gZnVuY3Rpb24gKGtleTogS2V5KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIF9taWNyb01lbW9pemVPcHRpb25zOiB7IG9uQ2FjaGVDaGFuZ2UsIHRyYW5zZm9ybUtleSB9LFxuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgIH0gPSBtb2l6ZWQ7XG5cbiAgICAgICAgY29uc3Qga2V5SW5kZXggPSBmaW5kS2V5SW5kZXgoXG4gICAgICAgICAgICBjYWNoZS5rZXlzLFxuICAgICAgICAgICAgdHJhbnNmb3JtS2V5ID8gdHJhbnNmb3JtS2V5KGtleSkgOiBrZXlcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoa2V5SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleGlzdGluZ0tleSA9IGNhY2hlLmtleXNba2V5SW5kZXhdO1xuXG4gICAgICAgIGNhY2hlLmtleXMuc3BsaWNlKGtleUluZGV4LCAxKTtcbiAgICAgICAgY2FjaGUudmFsdWVzLnNwbGljZShrZXlJbmRleCwgMSk7XG5cbiAgICAgICAgaWYgKG9uQ2FjaGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIG9uQ2FjaGVDaGFuZ2UoY2FjaGUsIG1vaXplZC5vcHRpb25zLCBtb2l6ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJFeHBpcmF0aW9uKGV4cGlyYXRpb25zLCBleGlzdGluZ0tleSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIG1vaXplZC5zZXQgPSBmdW5jdGlvbiAoa2V5OiBLZXksIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgY29uc3QgeyBfbWljcm9NZW1vaXplT3B0aW9ucywgY2FjaGUsIG9wdGlvbnMgfSA9IG1vaXplZDtcbiAgICAgICAgY29uc3QgeyBvbkNhY2hlQWRkLCBvbkNhY2hlQ2hhbmdlLCB0cmFuc2Zvcm1LZXkgfSA9XG4gICAgICAgICAgICBfbWljcm9NZW1vaXplT3B0aW9ucztcblxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRyYW5zZm9ybUtleSA/IHRyYW5zZm9ybUtleShrZXkpIDoga2V5O1xuICAgICAgICBjb25zdCBrZXlJbmRleCA9IGZpbmRLZXlJbmRleChjYWNoZS5rZXlzLCBjYWNoZUtleSk7XG5cbiAgICAgICAgaWYgKGtleUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgY3V0b2ZmID0gb3B0aW9ucy5tYXhTaXplIC0gMTtcblxuICAgICAgICAgICAgaWYgKGNhY2hlLnNpemUgPiBjdXRvZmYpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5rZXlzLmxlbmd0aCA9IGN1dG9mZjtcbiAgICAgICAgICAgICAgICBjYWNoZS52YWx1ZXMubGVuZ3RoID0gY3V0b2ZmO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZS5rZXlzLnVuc2hpZnQoY2FjaGVLZXkpO1xuICAgICAgICAgICAgY2FjaGUudmFsdWVzLnVuc2hpZnQodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1Byb21pc2UpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS51cGRhdGVBc3luY0NhY2hlKG1vaXplZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvbkNhY2hlQWRkKSB7XG4gICAgICAgICAgICAgICAgb25DYWNoZUFkZChjYWNoZSwgb3B0aW9ucywgbW9pemVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9uQ2FjaGVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNhY2hlQ2hhbmdlKGNhY2hlLCBvcHRpb25zLCBtb2l6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdLZXkgPSBjYWNoZS5rZXlzW2tleUluZGV4XTtcblxuICAgICAgICAgICAgY2FjaGUudmFsdWVzW2tleUluZGV4XSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoa2V5SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUub3JkZXJCeUxydShleGlzdGluZ0tleSwgdmFsdWUsIGtleUluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUudXBkYXRlQXN5bmNDYWNoZShtb2l6ZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uQ2FjaGVDaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvbkNhY2hlQ2hhbmdlKGNhY2hlLCBvcHRpb25zLCBtb2l6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIG1vaXplZC52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBtb2l6ZWQuY2FjaGVTbmFwc2hvdC52YWx1ZXM7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYWRkIHByb3BldGllcyB0byB0aGUgbW9pemVkIGZ1Y3Rpb24gb2JqZWN0IHRoYXQgc3VyZmFjZXMgZXh0cmEgaW5mb3JtYXRpb25cbiAqXG4gKiBAcGFyYW0gbWVtb2l6ZWQgdGhlIG1lbW9pemVkIGZ1bmN0aW9uXG4gKiBAcGFyYW0gZXhwaXJhdGlvbnMgdGhlIGxpc3Qgb2YgZXhwaXJhdGlvbnMgZm9yIGNhY2hlIGl0ZW1zXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplclxuICogQHBhcmFtIG9yaWdpbmFsRnVuY3Rpb24gdGhlIGZ1bmN0aW9uIHRoYXQgaXMgYmVpbmcgbWVtb2l6ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEluc3RhbmNlUHJvcGVydGllczxNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZT4oXG4gICAgbWVtb2l6ZWQ6IE1lbW9pemVkPE1vaXplYWJsZUZuPixcbiAgICB7XG4gICAgICAgIGV4cGlyYXRpb25zLFxuICAgICAgICBvcHRpb25zOiBtb2l6ZU9wdGlvbnMsXG4gICAgICAgIG9yaWdpbmFsRnVuY3Rpb24sXG4gICAgfTogTW9pemVDb25maWd1cmF0aW9uPE1vaXplYWJsZUZuPlxuKSB7XG4gICAgY29uc3QgeyBvcHRpb25zOiBtaWNyb01lbW9pemVPcHRpb25zIH0gPSBtZW1vaXplZDtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1lbW9pemVkLCB7XG4gICAgICAgIF9taWNyb01lbW9pemVPcHRpb25zOiB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pY3JvTWVtb2l6ZU9wdGlvbnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIGNhY2hlU25hcHNob3Q6IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlOiBjdXJyZW50Q2FjaGUgfSA9IG1lbW9pemVkO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAga2V5czogY3VycmVudENhY2hlLmtleXMuc2xpY2UoMCksXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGN1cnJlbnRDYWNoZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IGN1cnJlbnRDYWNoZS52YWx1ZXMuc2xpY2UoMCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXhwaXJhdGlvbnM6IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwaXJhdGlvbnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIGV4cGlyYXRpb25zU25hcHNob3Q6IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwaXJhdGlvbnMuc2xpY2UoMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIGlzTW9pemVkOiB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9pemVPcHRpb25zO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBvcmlnaW5hbEZ1bmN0aW9uOiB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsRnVuY3Rpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbW9pemVkID0gbWVtb2l6ZWQgYXMgdW5rbm93biBhcyBNb2l6ZWQ8XG4gICAgICAgIE1vaXplYWJsZUZuLFxuICAgICAgICBPcHRpb25zPE1vaXplYWJsZUZuPlxuICAgID47XG5cbiAgICBjb3B5U3RhdGljUHJvcGVydGllcyhvcmlnaW5hbEZ1bmN0aW9uLCBtb2l6ZWQpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhZGQgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gZm9yIG1vcmUgZmVhdHVyZXNcbiAqXG4gKiBAcGFyYW0gbWVtb2l6ZWQgdGhlIG1lbW9pemVkIGZ1bmN0aW9uXG4gKiBAcGFyYW0gY29uZmlndXJhdGlvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uIHBhc3NlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9pemVJbnN0YW5jZTxcbiAgICBNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZSxcbiAgICBDb21iaW5lZE9wdGlvbnMgZXh0ZW5kcyBPcHRpb25zPE1vaXplYWJsZUZuPlxuPihcbiAgICBtZW1vaXplZDogTWVtb2l6ZWQ8TW9pemVhYmxlRm4+LFxuICAgIGNvbmZpZ3VyYXRpb246IE1vaXplQ29uZmlndXJhdGlvbjxNb2l6ZWFibGVGbj5cbikge1xuICAgIGFkZEluc3RhbmNlTWV0aG9kczxNb2l6ZWFibGVGbj4obWVtb2l6ZWQsIGNvbmZpZ3VyYXRpb24pO1xuICAgIGFkZEluc3RhbmNlUHJvcGVydGllczxNb2l6ZWFibGVGbj4obWVtb2l6ZWQsIGNvbmZpZ3VyYXRpb24pO1xuXG4gICAgcmV0dXJuIG1lbW9pemVkIGFzIE1vaXplZDxNb2l6ZWFibGVGbiwgQ29tYmluZWRPcHRpb25zPjtcbn1cbiIsICJpbXBvcnQgeyBjb3B5U3RhdGljUHJvcGVydGllcyB9IGZyb20gJy4vaW5zdGFuY2UnO1xuaW1wb3J0IHsgc2V0TmFtZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgTW9pemUsXG4gICAgTW9pemVkIGFzIE1vaXplZEZ1bmN0aW9uLFxuICAgIE1vaXplYWJsZSxcbiAgICBPcHRpb25zLFxufSBmcm9tICcuLi9pbmRleC5kJztcblxuLy8gVGhpcyB3YXMgc3RvbGVuIGZyb20gUmVhY3QgaW50ZXJuYWxzLCB3aGljaCBhbGxvd3MgdXMgdG8gY3JlYXRlIFJlYWN0IGVsZW1lbnRzIHdpdGhvdXQgbmVlZGluZ1xuLy8gYSBkZXBlbmRlbmN5IG9uIHRoZSBSZWFjdCBsaWJyYXJ5IGl0c2VsZi5cbmNvbnN0IFJFQUNUX0VMRU1FTlRfVFlQRSA9XG4gICAgdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yXG4gICAgICAgID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpXG4gICAgICAgIDogMHhlYWM3O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgYSBjb21wb25lbnQgdGhhdCBtZW1vaXplcyBiYXNlZCBvbiBgcHJvcHNgIGFuZCBsZWdhY3kgYGNvbnRleHRgXG4gKiBvbiBhIHBlci1pbnN0YW5jZSBiYXNpcy4gVGhpcyByZXF1aXJlcyBjcmVhdGluZyBhIGNvbXBvbmVudCBjbGFzcyB0b1xuICogc3RvcmUgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBUaGUgY29zdCBpcyBxdWl0ZSBsb3csIGFuZCBhdm9pZHMgdGhlXG4gKiBuZWVkIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBSZWFjdCBkZXBlbmRlbmN5IGJ5IGJhc2ljYWxseSByZS1jcmVhdGluZ1xuICogdGhlIGJhc2ljIGVzc2VudGlhbHMgZm9yIGEgY29tcG9uZW50IGNsYXNzIGFuZCB0aGUgcmVzdWx0cyBvZiB0aGVcbiAqIGBjcmVhdGVFbGVtZW50YCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gbW9pemVyIHRoZSB0b3AtbGV2ZWwgbW9pemUgbWV0aG9kXG4gKiBAcGFyYW0gZm4gdGhlIGNvbXBvbmVudCB0byBtZW1vaXplXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgbWVtb2l6YXRpb24gb3B0aW9uc1xuICogQHJldHVybnMgdGhlIG1lbW9pemVkIGNvbXBvbmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9pemVkQ29tcG9uZW50PE1vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlPihcbiAgICBtb2l6ZXI6IE1vaXplLFxuICAgIGZuOiBNb2l6ZWFibGVGbixcbiAgICBvcHRpb25zOiBPcHRpb25zPE1vaXplYWJsZUZuPlxuKSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIGhhY2sgb3ZlcnJpZGUgc2V0dGluZyB0aGUgbmVjZXNzYXJ5IG9wdGlvbnNcbiAgICAgKiBmb3IgYSBSZWFjdCBjb21wb25lbnQgdG8gYmUgbWVtb2l6ZWQuIEluIHRoZSBtYWluIGBtb2l6ZWBcbiAgICAgKiBtZXRob2QsIGlmIHRoZSBgaXNSZWFjdGAgb3B0aW9uIGlzIHNldCBpdCBpcyBzaG9ydC1jaXJjdWl0ZWRcbiAgICAgKiB0byBjYWxsIHRoaXMgZnVuY3Rpb24sIGFuZCB0aGVzZSBvdmVycmlkZXMgYWxsb3cgdGhlXG4gICAgICogbmVjZXNzYXJ5IHRyYW5zZm9ybUtleSBtZXRob2QgdG8gYmUgZGVyaXZlZC5cbiAgICAgKlxuICAgICAqIFRoZSBvcmRlciBpcyBiYXNlZCBvbjpcbiAgICAgKiAxKSBTZXQgdGhlIG5lY2Vzc2FyeSBhc3BlY3RzIG9mIHRyYW5zZm9ybUtleSBmb3IgUmVhY3QgY29tcG9uZW50cy5cbiAgICAgKiAyKSBBbGxvdyBzZXR0aW5nIG9mIG90aGVyIG9wdGlvbnMgYW5kIG92ZXJyaWRlcyBvZiB0aG9zZSBhc3BlY3RzXG4gICAgICogICAgaWYgZGVzaXJlZCAoZm9yIGV4YW1wbGUsIGBpc0RlZXBFcXVhbGAgd2lsbCB1c2UgZGVlcCBlcXVhbGl0eSkuXG4gICAgICogMykgQWx3YXlzIHNldCBgaXNSZWFjdGAgdG8gZmFsc2UgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wLlxuICAgICAqL1xuICAgIGNvbnN0IHJlYWN0TW9pemVyID0gbW9pemVyKHtcbiAgICAgICAgbWF4QXJnczogMixcbiAgICAgICAgaXNTaGFsbG93RXF1YWw6IHRydWUsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGlzUmVhY3Q6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgaWYgKCFmbi5kaXNwbGF5TmFtZSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlIC0gYWxsb3cgc2V0dGluZyBvZiBkaXNwbGF5TmFtZVxuICAgICAgICBmbi5kaXNwbGF5TmFtZSA9IGZuLm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTW9pemVkPFByb3BzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIENvbnRleHQsIFVwZGF0ZXI+KFxuICAgICAgICB0aGlzOiBhbnksXG4gICAgICAgIHByb3BzOiBQcm9wcyxcbiAgICAgICAgY29udGV4dDogQ29udGV4dCxcbiAgICAgICAgdXBkYXRlcjogVXBkYXRlclxuICAgICkge1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXI7XG5cbiAgICAgICAgdGhpcy5Nb2l6ZWRDb21wb25lbnQgPSByZWFjdE1vaXplcihmbik7XG4gICAgfVxuXG4gICAgTW9pemVkLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbiAgICBNb2l6ZWQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpOiBSZXR1cm5UeXBlPE1vaXplYWJsZUZuPiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICAgICAgdHlwZTogdGhpcy5Nb2l6ZWRDb21wb25lbnQsXG4gICAgICAgICAgICBwcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHJlZjogbnVsbCxcbiAgICAgICAgICAgIGtleTogbnVsbCxcbiAgICAgICAgICAgIF9vd25lcjogbnVsbCxcbiAgICAgICAgfSBhcyBSZXR1cm5UeXBlPE1vaXplYWJsZUZuPjtcbiAgICB9O1xuXG4gICAgY29weVN0YXRpY1Byb3BlcnRpZXMoZm4sIE1vaXplZCwgWydjb250ZXh0VHlwZScsICdjb250ZXh0VHlwZXMnXSk7XG5cbiAgICBNb2l6ZWQuZGlzcGxheU5hbWUgPSBgTW9pemVkKCR7Zm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSB8fCAnQ29tcG9uZW50J30pYDtcblxuICAgIHNldE5hbWUoTW9pemVkIGFzIE1vaXplZEZ1bmN0aW9uLCBmbi5uYW1lLCBvcHRpb25zLnByb2ZpbGVOYW1lKTtcblxuICAgIHJldHVybiBNb2l6ZWQ7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBLZXkgfSBmcm9tICcuLi9pbmRleC5kJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdldEluaXRpYWxBcmdzKHNpemU6IG51bWJlcikge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiB0YWtlIHRoZSBmaXJzdCBOIG51bWJlciBvZiBpdGVtcyBmcm9tIHRoZSBhcnJheSAoZmFzdGVyIHRoYW4gc2xpY2UpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgYXJncyB0byB0YWtlIGZyb21cbiAgICAgKiBAcmV0dXJucyB0aGUgc2hvcnRlbmVkIGxpc3Qgb2YgYXJncyBhcyBhbiBhcnJheVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnczogS2V5KTogS2V5IHtcbiAgICAgICAgaWYgKHNpemUgPj0gYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaXplID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW2FyZ3NbMF1dO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpemUgPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBbYXJnc1swXSwgYXJnc1sxXV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgcmV0dXJuIFthcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNsb25lID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHNpemU7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNsb25lW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBLZXksIE1vaXplYWJsZSwgT3B0aW9ucyB9IGZyb20gJy4uL2luZGV4LmQnO1xuXG4vKipcbiAqIEBmdW5jdGlvbiBnZXRDdXRvZmZcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGZhc3RlciBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIGltcGxlbWVudGF0aW9uIGJ1aWxkIGZvciBzbGljaW5nIC8gc3BsaWNpbmdcbiAqXG4gKiBAcGFyYW0gYXJyYXkgdGhlIGFycmF5IHRvIG1hdGNoIHRoZSB2YWx1ZSBpblxuICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byBtYXRjaFxuICogQHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4LCBvciAtMVxuICovXG5mdW5jdGlvbiBnZXRDdXRvZmYoYXJyYXk6IGFueVtdLCB2YWx1ZTogYW55KSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IGFycmF5O1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjdXN0b20gcmVwbGFjZXIgZm9yIHRoZSBzdHJpbmdpZnkgZnVuY3Rpb25cbiAqXG4gKiBAcmV0dXJucyBpZiBmdW5jdGlvbiB0aGVuIHRvU3RyaW5nIG9mIGl0LCBlbHNlIHRoZSB2YWx1ZSBpdHNlbGZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRSZXBsYWNlcigpIHtcbiAgICBjb25zdCBjYWNoZTogYW55W10gPSBbXTtcbiAgICBjb25zdCBrZXlzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlZmF1bHRSZXBsYWNlcihrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc0N1dG9mZiA9IGdldEN1dG9mZihjYWNoZSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpc0N1dG9mZiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZVtjYWNoZS5sZW5ndGhdID0gdGhpcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zcGxpY2UodGhpc0N1dG9mZik7XG4gICAgICAgICAgICAgICAgICAgIGtleXMuc3BsaWNlKHRoaXNDdXRvZmYpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGtleXNba2V5cy5sZW5ndGhdID0ga2V5O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVDdXRvZmYgPSBnZXRDdXRvZmYoY2FjaGUsIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUN1dG9mZiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFtyZWY9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuc2xpY2UoMCwgdmFsdWVDdXRvZmYpLmpvaW4oJy4nKSB8fCAnLidcbiAgICAgICAgICAgICAgICAgICAgfV1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FjaGVbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBrZXlzWzBdID0ga2V5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBnZXQgdGhlIHN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIGFyZ3VtZW50IHBhc3NlZFxuICpcbiAqIEBwYXJhbSBhcmcgYXJndW1lbnQgdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgYXJndW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmluZ2lmaWVkQXJndW1lbnQ8VHlwZT4oYXJnOiBUeXBlKSB7XG4gICAgY29uc3QgdHlwZU9mQXJnID0gdHlwZW9mIGFyZztcblxuICAgIHJldHVybiBhcmcgJiYgKHR5cGVPZkFyZyA9PT0gJ29iamVjdCcgfHwgdHlwZU9mQXJnID09PSAnZnVuY3Rpb24nKVxuICAgICAgICA/IEpTT04uc3RyaW5naWZ5KGFyZywgY3JlYXRlRGVmYXVsdFJlcGxhY2VyKCkpXG4gICAgICAgIDogYXJnO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBzZXJpYWxpemUgdGhlIGFyZ3VtZW50cyBwYXNzZWRcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplclxuICogQHBhcmFtIG9wdGlvbnMubWF4QXJncyB0aGUgY2FwIG9uIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHVzZWQgaW4gc2VyaWFsaXphdGlvblxuICogQHJldHVybnMgYXJndW1lbnQgc2VyaWFsaXphdGlvbiBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRBcmd1bWVudFNlcmlhbGl6ZXIoYXJnczogS2V5KSB7XG4gICAgbGV0IGtleSA9ICd8JztcblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcmdzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBrZXkgKz0gZ2V0U3RyaW5naWZpZWRBcmd1bWVudChhcmdzW2luZGV4XSkgKyAnfCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtrZXldO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBiYXNlZCBvbiB0aGUgb3B0aW9ucyBwYXNzZWQsIGVpdGhlciB1c2UgdGhlIHNlcmlhbGl6ZXIgcGFzc2VkIG9yIGdlbmVyYXRlIHRoZSBpbnRlcm5hbCBvbmVcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplZCBmdW5jdGlvblxuICogQHJldHVybnMgdGhlIGZ1bmN0aW9uIHRvIHVzZSBpbiBzZXJpYWxpemluZyB0aGUgYXJndW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJpYWxpemVyRnVuY3Rpb248TW9pemVhYmxlRm4gZXh0ZW5kcyBNb2l6ZWFibGU+KFxuICAgIG9wdGlvbnM6IE9wdGlvbnM8TW9pemVhYmxlRm4+XG4pIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnMuc2VyaWFsaXplciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IG9wdGlvbnMuc2VyaWFsaXplclxuICAgICAgICA6IGRlZmF1bHRBcmd1bWVudFNlcmlhbGl6ZXI7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGFyZSB0aGUgc2VyaWFsaXplZCBrZXlzIGVxdWFsIHRvIG9uZSBhbm90aGVyXG4gKlxuICogQHBhcmFtIGNhY2hlS2V5IHRoZSBjYWNoZSBrZXkgdG8gY29tcGFyZVxuICogQHBhcmFtIGtleSB0aGUga2V5IHRvIHRlc3RcbiAqIEByZXR1cm5zIGFyZSB0aGUga2V5cyBlcXVhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXNTZXJpYWxpemVkS2V5RXF1YWwoY2FjaGVLZXk6IEtleSwga2V5OiBLZXkpIHtcbiAgICByZXR1cm4gY2FjaGVLZXlbMF0gPT09IGtleVswXTtcbn1cbiIsICJpbXBvcnQgeyBkZWVwRXF1YWwsIHNhbWVWYWx1ZVplcm9FcXVhbCwgc2hhbGxvd0VxdWFsIH0gZnJvbSAnZmFzdC1lcXVhbHMnO1xuaW1wb3J0IHsgY3JlYXRlR2V0SW5pdGlhbEFyZ3MgfSBmcm9tICcuL21heEFyZ3MnO1xuaW1wb3J0IHsgZ2V0SXNTZXJpYWxpemVkS2V5RXF1YWwsIGdldFNlcmlhbGl6ZXJGdW5jdGlvbiB9IGZyb20gJy4vc2VyaWFsaXplJztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHR5cGUge1xuICAgIENhY2hlLFxuICAgIElzRXF1YWwsXG4gICAgSXNNYXRjaGluZ0tleSxcbiAgICBNaWNyb01lbW9pemVPcHRpb25zLFxuICAgIE1vaXplYWJsZSxcbiAgICBNb2l6ZWQsXG4gICAgT25DYWNoZU9wZXJhdGlvbixcbiAgICBPcHRpb25zLFxuICAgIFRyYW5zZm9ybUtleSxcbn0gZnJvbSAnLi4vaW5kZXguZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPbkNhY2hlT3BlcmF0aW9uPE1vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlPihcbiAgICBmbj86IE9uQ2FjaGVPcGVyYXRpb248TW9pemVhYmxlRm4+XG4pOiBPbkNhY2hlT3BlcmF0aW9uPE1vaXplYWJsZUZuPiB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgX2NhY2hlSWdub3JlZDogQ2FjaGU8TW9pemVhYmxlRm4+LFxuICAgICAgICAgICAgX21pY3JvTWVtb2l6ZU9wdGlvbnNJZ25vcmVkOiBNaWNyb01lbW9pemVPcHRpb25zPE1vaXplYWJsZUZuPixcbiAgICAgICAgICAgIG1lbW9pemVkOiBNb2l6ZWRcbiAgICAgICAgKTogdm9pZCA9PiBmbihtZW1vaXplZC5jYWNoZSwgbWVtb2l6ZWQub3B0aW9ucywgbWVtb2l6ZWQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogZ2V0IHRoZSBpc0VxdWFsIG1ldGhvZCBwYXNzZWQgdG8gbWljcm8tbWVtb2l6ZVxuICpcbiAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUgbW9pemVyXG4gKiBAcmV0dXJucyB0aGUgaXNFcXVhbCBtZXRob2QgdG8gYXBwbHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElzRXF1YWw8TW9pemVhYmxlRm4gZXh0ZW5kcyBNb2l6ZWFibGU+KFxuICAgIG9wdGlvbnM6IE9wdGlvbnM8TW9pemVhYmxlRm4+XG4pOiBJc0VxdWFsIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBvcHRpb25zLm1hdGNoZXNBcmcgfHxcbiAgICAgICAgKG9wdGlvbnMuaXNEZWVwRXF1YWwgJiYgZGVlcEVxdWFsKSB8fFxuICAgICAgICAob3B0aW9ucy5pc1NoYWxsb3dFcXVhbCAmJiBzaGFsbG93RXF1YWwpIHx8XG4gICAgICAgIHNhbWVWYWx1ZVplcm9FcXVhbFxuICAgICk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGdldCB0aGUgaXNFcXVhbCBtZXRob2QgcGFzc2VkIHRvIG1pY3JvLW1lbW9pemVcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplclxuICogQHJldHVybnMgdGhlIGlzRXF1YWwgbWV0aG9kIHRvIGFwcGx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc01hdGNoaW5nS2V5PE1vaXplYWJsZUZuIGV4dGVuZHMgTW9pemVhYmxlPihcbiAgICBvcHRpb25zOiBPcHRpb25zPE1vaXplYWJsZUZuPlxuKTogSXNNYXRjaGluZ0tleSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb3B0aW9ucy5tYXRjaGVzS2V5IHx8XG4gICAgICAgIChvcHRpb25zLmlzU2VyaWFsaXplZCAmJiBnZXRJc1NlcmlhbGl6ZWRLZXlFcXVhbCkgfHxcbiAgICAgICAgdW5kZWZpbmVkXG4gICAgKTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogZ2V0IHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgdHJhbnNmb3JtIHRoZSBrZXkgYmFzZWQgb24gdGhlIGFyZ3VtZW50cyBwYXNzZWRcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIG1vaXplclxuICogQHJldHVybnMgdGhlIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSB0aGUga2V5IHdpdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUtleTxNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZT4oXG4gICAgb3B0aW9uczogT3B0aW9uczxNb2l6ZWFibGVGbj5cbik6IFRyYW5zZm9ybUtleSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIGNvbXBvc2UoXG4gICAgICAgIG9wdGlvbnMuaXNTZXJpYWxpemVkICYmIGdldFNlcmlhbGl6ZXJGdW5jdGlvbihvcHRpb25zKSxcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtQXJncyA9PT0gJ2Z1bmN0aW9uJyAmJiBvcHRpb25zLnRyYW5zZm9ybUFyZ3MsXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLm1heEFyZ3MgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICBjcmVhdGVHZXRJbml0aWFsQXJncyhvcHRpb25zLm1heEFyZ3MpXG4gICAgKSBhcyBUcmFuc2Zvcm1LZXk7XG59XG4iLCAiaW1wb3J0IHsgY29weVN0YXRpY1Byb3BlcnRpZXMgfSBmcm9tICcuL2luc3RhbmNlJztcblxuaW1wb3J0IHR5cGUgeyBNb2l6ZWQgfSBmcm9tICcuLi9pbmRleC5kJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZnJlc2hhYmxlTW9pemVkPE1vaXplZEZuIGV4dGVuZHMgTW9pemVkPihcbiAgICBtb2l6ZWQ6IE1vaXplZEZuXG4pIHtcbiAgICBjb25zdCB7XG4gICAgICAgIG9wdGlvbnM6IHsgdXBkYXRlQ2FjaGVGb3JLZXkgfSxcbiAgICB9ID0gbW9pemVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFdyYXBwZXIgYXJvdW5kIGFscmVhZHktYG1vaXplYGQgZnVuY3Rpb24gd2hpY2ggd2lsbCBpbnRlcmNlcHQgdGhlIG1lbW9pemF0aW9uXG4gICAgICogYW5kIGNhbGwgdGhlIHVuZGVybHlpbmcgZnVuY3Rpb24gZGlyZWN0bHkgd2l0aCB0aGUgcHVycG9zZSBvZiB1cGRhdGluZyB0aGUgY2FjaGVcbiAgICAgKiBmb3IgdGhlIGdpdmVuIGtleS5cbiAgICAgKlxuICAgICAqIFByb21pc2UgdmFsdWVzIHVzZSBhIHR3ZWFrIG9mIHRoZSBsb2dpYyB0aGF0IGV4aXN0cyBhdCBjYWNoZS51cGRhdGVBc3luY0NhY2hlLCB3aGljaFxuICAgICAqIHJldmVydHMgdG8gdGhlIG9yaWdpbmFsIHZhbHVlIGlmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIGFuZCB0aGVyZSB3YXMgYWxyZWFkeSBhIGNhY2hlZFxuICAgICAqIHZhbHVlLlxuICAgICAqL1xuICAgIGNvbnN0IHJlZnJlc2hhYmxlTW9pemVkID0gZnVuY3Rpb24gcmVmcmVzaGFibGVNb2l6ZWQoXG4gICAgICAgIHRoaXM6IGFueSxcbiAgICAgICAgLi4uYXJnczogUGFyYW1ldGVyczx0eXBlb2YgbW9pemVkLmZuPlxuICAgICkge1xuICAgICAgICBpZiAoIXVwZGF0ZUNhY2hlRm9yS2V5KGFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9pemVkLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9pemVkLmZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICAgIG1vaXplZC5zZXQoYXJncywgcmVzdWx0KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gYXMgdHlwZW9mIG1vaXplZDtcblxuICAgIGNvcHlTdGF0aWNQcm9wZXJ0aWVzKG1vaXplZCwgcmVmcmVzaGFibGVNb2l6ZWQpO1xuXG4gICAgcmV0dXJuIHJlZnJlc2hhYmxlTW9pemVkO1xufVxuIiwgImltcG9ydCBtZW1vaXplIGZyb20gJ21pY3JvLW1lbW9pemUnO1xuaW1wb3J0IHsgY3JlYXRlTW9pemVkQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgREVGQVVMVF9PUFRJT05TIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY3JlYXRlTW9pemVJbnN0YW5jZSB9IGZyb20gJy4vaW5zdGFuY2UnO1xuaW1wb3J0IHsgZ2V0TWF4QWdlT3B0aW9ucyB9IGZyb20gJy4vbWF4QWdlJztcbmltcG9ydCB7XG4gICAgY3JlYXRlT25DYWNoZU9wZXJhdGlvbixcbiAgICBnZXRJc0VxdWFsLFxuICAgIGdldElzTWF0Y2hpbmdLZXksXG4gICAgZ2V0VHJhbnNmb3JtS2V5LFxufSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHtcbiAgICBjbGVhclN0YXRzLFxuICAgIGNvbGxlY3RTdGF0cyxcbiAgICBnZXREZWZhdWx0UHJvZmlsZU5hbWUsXG4gICAgZ2V0U3RhdHMsXG4gICAgZ2V0U3RhdHNPcHRpb25zLFxuICAgIHN0YXRzQ2FjaGUsXG59IGZyb20gJy4vc3RhdHMnO1xuaW1wb3J0IHsgY3JlYXRlUmVmcmVzaGFibGVNb2l6ZWQgfSBmcm9tICcuL3VwZGF0ZUNhY2hlRm9yS2V5JztcbmltcG9ydCB7IGNvbWJpbmUsIGNvbXBvc2UsIGlzTW9pemVkLCBtZXJnZU9wdGlvbnMsIHNldE5hbWUgfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHR5cGUge1xuICAgIEV4cGlyYXRpb24sXG4gICAgSXNFcXVhbCxcbiAgICBJc01hdGNoaW5nS2V5LFxuICAgIE1pY3JvTWVtb2l6ZU9wdGlvbnMsXG4gICAgTW9pemUsXG4gICAgTW9pemVhYmxlLFxuICAgIE1vaXplZCxcbiAgICBPbkV4cGlyZSxcbiAgICBPcHRpb25zLFxuICAgIFNlcmlhbGl6ZSxcbiAgICBUcmFuc2Zvcm1LZXksXG4gICAgVXBkYXRlQ2FjaGVGb3JLZXksXG59IGZyb20gJy4uL2luZGV4LmQnO1xuXG4vKipcbiAqIEBtb2R1bGUgbW9pemVcbiAqL1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogbWVtb2l6ZSBhIGZ1bmN0aW9uIGJhc2VkIGl0cyBhcmd1bWVudHMgcGFzc2VkLCBwb3RlbnRpYWxseSBpbXByb3ZpbmcgcnVudGltZSBwZXJmb3JtYW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgbW9pemUgZnJvbSAnbW9pemUnO1xuICpcbiAqIC8vIHN0YW5kYXJkIGltcGxlbWVudGF0aW9uXG4gKiBjb25zdCBmbiA9IChmb28sIGJhcikgPT4gYCR7Zm9vfSAke2Jhcn1gO1xuICogY29uc3QgbWVtb2l6ZWRGbiA9IG1vaXplKGZuKTtcbiAqXG4gKiAvLyBpbXBsZW1lbnRhdGlvbiB3aXRoIG9wdGlvbnNcbiAqIGNvbnN0IGZuID0gYXN5bmMgKGlkKSA9PiBnZXQoYGh0dHA6Ly9mb28uY29tLyR7aWR9YCk7XG4gKiBjb25zdCBtZW1vaXplZEZuID0gbW9pemUoZm4sIHtpc1Byb21pc2U6IHRydWUsIG1heFNpemU6IDV9KTtcbiAqXG4gKiAvLyBpbXBsZW1lbnRhdGlvbiB3aXRoIGNvbnZlbmllbmNlIG1ldGhvZHNcbiAqIGNvbnN0IEZvbyA9ICh7Zm9vfSkgPT4gPGRpdj57Zm9vfTwvZGl2PjtcbiAqIGNvbnN0IE1lbW9pemVkRm9vID0gbW9pemUucmVhY3QoRm9vKTtcbiAqXG4gKiBAcGFyYW0gZm4gdGhlIGZ1bmN0aW9uIHRvIG1lbW9pemVkLCBvciBhIGxpc3Qgb2Ygb3B0aW9ucyB3aGVuIGN1cnJ5aW5nXG4gKiBAcGFyYW0gW29wdGlvbnM9REVGQVVMVF9PUFRJT05TXSB0aGUgb3B0aW9ucyB0byBhcHBseVxuICogQHJldHVybnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uXG4gKi9cbmNvbnN0IG1vaXplOiBNb2l6ZSA9IGZ1bmN0aW9uIDxcbiAgICBNb2l6ZWFibGVGbiBleHRlbmRzIE1vaXplYWJsZSxcbiAgICBQYXNzZWRPcHRpb25zIGV4dGVuZHMgT3B0aW9uczxNb2l6ZWFibGVGbj5cbj4oZm46IE1vaXplYWJsZUZuIHwgUGFzc2VkT3B0aW9ucywgcGFzc2VkT3B0aW9ucz86IFBhc3NlZE9wdGlvbnMpIHtcbiAgICB0eXBlIENvbWJpbmVkT3B0aW9ucyA9IE9taXQ8T3B0aW9uczxNb2l6ZWFibGVGbj4sIGtleW9mIFBhc3NlZE9wdGlvbnM+ICZcbiAgICAgICAgUGFzc2VkT3B0aW9ucztcblxuICAgIGNvbnN0IG9wdGlvbnM6IE9wdGlvbnM8TW9pemVhYmxlRm4+ID0gcGFzc2VkT3B0aW9ucyB8fCBERUZBVUxUX09QVElPTlM7XG5cbiAgICBpZiAoaXNNb2l6ZWQoZm4pKSB7XG4gICAgICAgIGNvbnN0IG1vaXplYWJsZSA9IGZuLm9yaWdpbmFsRnVuY3Rpb24gYXMgTW9pemVhYmxlRm47XG4gICAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG4gICAgICAgICAgICBmbi5vcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICApIGFzIENvbWJpbmVkT3B0aW9ucztcblxuICAgICAgICByZXR1cm4gbW9pemU8TW9pemVhYmxlRm4sIENvbWJpbmVkT3B0aW9ucz4obW9pemVhYmxlLCBtZXJnZWRPcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZuID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gPFxuICAgICAgICAgICAgQ3VycmllZEZuIGV4dGVuZHMgTW9pemVhYmxlLFxuICAgICAgICAgICAgQ3VycmllZE9wdGlvbnMgZXh0ZW5kcyBPcHRpb25zPEN1cnJpZWRGbj5cbiAgICAgICAgPihcbiAgICAgICAgICAgIGN1cnJpZWRGbjogQ3VycmllZEZuIHwgQ3VycmllZE9wdGlvbnMsXG4gICAgICAgICAgICBjdXJyaWVkT3B0aW9uczogQ3VycmllZE9wdGlvbnNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0eXBlIENvbWJpbmVkQ3VycmllZE9wdGlvbnMgPSBPbWl0PFxuICAgICAgICAgICAgICAgIENvbWJpbmVkT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBrZXlvZiBDdXJyaWVkT3B0aW9uc1xuICAgICAgICAgICAgPiAmXG4gICAgICAgICAgICAgICAgQ3VycmllZE9wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmllZEZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhcbiAgICAgICAgICAgICAgICAgICAgZm4gYXMgQ29tYmluZWRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBjdXJyaWVkT3B0aW9uc1xuICAgICAgICAgICAgICAgICkgYXMgQ29tYmluZWRDdXJyaWVkT3B0aW9ucztcblxuICAgICAgICAgICAgICAgIHJldHVybiBtb2l6ZShjdXJyaWVkRm4sIG1lcmdlZE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBtZXJnZWRPcHRpb25zID0gbWVyZ2VPcHRpb25zKFxuICAgICAgICAgICAgICAgIGZuIGFzIENvbWJpbmVkT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjdXJyaWVkRm4gYXMgQ3VycmllZE9wdGlvbnNcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBtb2l6ZShtZXJnZWRPcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5pc1JlYWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVNb2l6ZWRDb21wb25lbnQobW9pemUsIGZuLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb2FsZXNjZWRPcHRpb25zOiBPcHRpb25zPE1vaXplYWJsZUZuPiA9IHtcbiAgICAgICAgLi4uREVGQVVMVF9PUFRJT05TLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtYXhBZ2U6XG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5tYXhBZ2UgPT09ICdudW1iZXInICYmIG9wdGlvbnMubWF4QWdlID49IDBcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubWF4QWdlXG4gICAgICAgICAgICAgICAgOiBERUZBVUxUX09QVElPTlMubWF4QWdlLFxuICAgICAgICBtYXhBcmdzOlxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMubWF4QXJncyA9PT0gJ251bWJlcicgJiYgb3B0aW9ucy5tYXhBcmdzID49IDBcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubWF4QXJnc1xuICAgICAgICAgICAgICAgIDogREVGQVVMVF9PUFRJT05TLm1heEFyZ3MsXG4gICAgICAgIG1heFNpemU6XG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5tYXhTaXplID09PSAnbnVtYmVyJyAmJiBvcHRpb25zLm1heFNpemUgPj0gMFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5tYXhTaXplXG4gICAgICAgICAgICAgICAgOiBERUZBVUxUX09QVElPTlMubWF4U2l6ZSxcbiAgICAgICAgcHJvZmlsZU5hbWU6IG9wdGlvbnMucHJvZmlsZU5hbWUgfHwgZ2V0RGVmYXVsdFByb2ZpbGVOYW1lKGZuKSxcbiAgICB9O1xuICAgIGNvbnN0IGV4cGlyYXRpb25zOiBBcnJheTxFeHBpcmF0aW9uPiA9IFtdO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBtYXRjaGVzQXJnOiBlcXVhbHNJZ25vcmVkLFxuICAgICAgICBpc0RlZXBFcXVhbDogaXNEZWVwRXF1YWxJZ25vcmVkLFxuICAgICAgICBpc1Byb21pc2UsXG4gICAgICAgIGlzUmVhY3Q6IGlzUmVhY3RJZ25vcmVkLFxuICAgICAgICBpc1NlcmlhbGl6ZWQ6IGlzU2VyaWFsemVkSWdub3JlZCxcbiAgICAgICAgaXNTaGFsbG93RXF1YWw6IGlzU2hhbGxvd0VxdWFsSWdub3JlZCxcbiAgICAgICAgbWF0Y2hlc0tleTogbWF0Y2hlc0tleUlnbm9yZWQsXG4gICAgICAgIG1heEFnZTogbWF4QWdlSWdub3JlZCxcbiAgICAgICAgbWF4QXJnczogbWF4QXJnc0lnbm9yZWQsXG4gICAgICAgIG1heFNpemUsXG4gICAgICAgIG9uQ2FjaGVBZGQsXG4gICAgICAgIG9uQ2FjaGVDaGFuZ2UsXG4gICAgICAgIG9uQ2FjaGVIaXQsXG4gICAgICAgIG9uRXhwaXJlOiBvbkV4cGlyZUlnbm9yZWQsXG4gICAgICAgIHByb2ZpbGVOYW1lOiBwcm9maWxlTmFtZUlnbm9yZWQsXG4gICAgICAgIHNlcmlhbGl6ZXI6IHNlcmlhbGl6ZXJJZ25vcmVkLFxuICAgICAgICB1cGRhdGVDYWNoZUZvcktleSxcbiAgICAgICAgdHJhbnNmb3JtQXJnczogdHJhbnNmb3JtQXJnc0lnbm9yZWQsXG4gICAgICAgIHVwZGF0ZUV4cGlyZTogdXBkYXRlRXhwaXJlSWdub3JlZCxcbiAgICAgICAgLi4uY3VzdG9tT3B0aW9uc1xuICAgIH0gPSBjb2FsZXNjZWRPcHRpb25zO1xuXG4gICAgY29uc3QgaXNFcXVhbCA9IGdldElzRXF1YWwoY29hbGVzY2VkT3B0aW9ucyk7XG4gICAgY29uc3QgaXNNYXRjaGluZ0tleSA9IGdldElzTWF0Y2hpbmdLZXkoY29hbGVzY2VkT3B0aW9ucyk7XG5cbiAgICBjb25zdCBtYXhBZ2VPcHRpb25zID0gZ2V0TWF4QWdlT3B0aW9ucyhcbiAgICAgICAgZXhwaXJhdGlvbnMsXG4gICAgICAgIGNvYWxlc2NlZE9wdGlvbnMsXG4gICAgICAgIGlzRXF1YWwsXG4gICAgICAgIGlzTWF0Y2hpbmdLZXlcbiAgICApO1xuICAgIGNvbnN0IHN0YXRzT3B0aW9ucyA9IGdldFN0YXRzT3B0aW9ucyhjb2FsZXNjZWRPcHRpb25zKTtcblxuICAgIGNvbnN0IHRyYW5zZm9ybUtleSA9IGdldFRyYW5zZm9ybUtleShjb2FsZXNjZWRPcHRpb25zKTtcblxuICAgIGNvbnN0IG1pY3JvTWVtb2l6ZU9wdGlvbnM6IE1pY3JvTWVtb2l6ZU9wdGlvbnM8TW9pemVhYmxlRm4+ID0ge1xuICAgICAgICAuLi5jdXN0b21PcHRpb25zLFxuICAgICAgICBpc0VxdWFsLFxuICAgICAgICBpc01hdGNoaW5nS2V5LFxuICAgICAgICBpc1Byb21pc2UsXG4gICAgICAgIG1heFNpemUsXG4gICAgICAgIG9uQ2FjaGVBZGQ6IGNyZWF0ZU9uQ2FjaGVPcGVyYXRpb24oXG4gICAgICAgICAgICBjb21iaW5lKFxuICAgICAgICAgICAgICAgIG9uQ2FjaGVBZGQsXG4gICAgICAgICAgICAgICAgbWF4QWdlT3B0aW9ucy5vbkNhY2hlQWRkLFxuICAgICAgICAgICAgICAgIHN0YXRzT3B0aW9ucy5vbkNhY2hlQWRkXG4gICAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIG9uQ2FjaGVDaGFuZ2U6IGNyZWF0ZU9uQ2FjaGVPcGVyYXRpb24ob25DYWNoZUNoYW5nZSksXG4gICAgICAgIG9uQ2FjaGVIaXQ6IGNyZWF0ZU9uQ2FjaGVPcGVyYXRpb24oXG4gICAgICAgICAgICBjb21iaW5lKFxuICAgICAgICAgICAgICAgIG9uQ2FjaGVIaXQsXG4gICAgICAgICAgICAgICAgbWF4QWdlT3B0aW9ucy5vbkNhY2hlSGl0LFxuICAgICAgICAgICAgICAgIHN0YXRzT3B0aW9ucy5vbkNhY2hlSGl0XG4gICAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIHRyYW5zZm9ybUtleSxcbiAgICB9O1xuXG4gICAgY29uc3QgbWVtb2l6ZWQgPSBtZW1vaXplKGZuLCBtaWNyb01lbW9pemVPcHRpb25zKTtcblxuICAgIGxldCBtb2l6ZWQgPSBjcmVhdGVNb2l6ZUluc3RhbmNlPE1vaXplYWJsZUZuLCBDb21iaW5lZE9wdGlvbnM+KG1lbW9pemVkLCB7XG4gICAgICAgIGV4cGlyYXRpb25zLFxuICAgICAgICBvcHRpb25zOiBjb2FsZXNjZWRPcHRpb25zLFxuICAgICAgICBvcmlnaW5hbEZ1bmN0aW9uOiBmbixcbiAgICB9KTtcblxuICAgIGlmICh1cGRhdGVDYWNoZUZvcktleSkge1xuICAgICAgICBtb2l6ZWQgPSBjcmVhdGVSZWZyZXNoYWJsZU1vaXplZDx0eXBlb2YgbW9pemVkPihtb2l6ZWQpO1xuICAgIH1cblxuICAgIHNldE5hbWUobW9pemVkLCAoZm4gYXMgTW9pemVhYmxlKS5uYW1lLCBvcHRpb25zLnByb2ZpbGVOYW1lKTtcblxuICAgIHJldHVybiBtb2l6ZWQ7XG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgY2xlYXJTdGF0c1xuICogQG1lbWJlcm9mIG1vZHVsZTptb2l6ZVxuICogQGFsaWFzIG1vaXplLmNsZWFyU3RhdHNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGNsZWFyIGFsbCBleGlzdGluZyBzdGF0cyBzdG9yZWRcbiAqL1xubW9pemUuY2xlYXJTdGF0cyA9IGNsZWFyU3RhdHM7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBjb2xsZWN0U3RhdHNcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5jb2xsZWN0U3RhdHNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIHN0YXJ0IGNvbGxlY3Rpbmcgc3RhdGlzdGljc1xuICovXG5tb2l6ZS5jb2xsZWN0U3RhdHMgPSBjb2xsZWN0U3RhdHM7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBjb21wb3NlXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUuY29tcG9zZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogbWV0aG9kIHRvIGNvbXBvc2UgbW9pemVkIG1ldGhvZHMgYW5kIHJldHVybiBhIHNpbmdsZSBtb2l6ZWQgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0gbW9pemVkIHRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZVxuICogQHJldHVybnMgdGhlIGNvbXBvc2VkIGZ1bmN0aW9uXG4gKi9cbm1vaXplLmNvbXBvc2UgPSBmdW5jdGlvbiAoLi4ubW9pemVkOiBNb2l6ZVtdKSB7XG4gICAgcmV0dXJuIGNvbXBvc2U8TW9pemU+KC4uLm1vaXplZCkgfHwgbW9pemU7XG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgZGVlcFxuICogQG1lbWJlcm9mIG1vZHVsZTptb2l6ZVxuICogQGFsaWFzIG1vaXplLmRlZXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIHNob3VsZCBkZWVwIGVxdWFsaXR5IGNoZWNrIGJlIHVzZWRcbiAqXG4gKiBAcmV0dXJucyB0aGUgbW9pemVyIGZ1bmN0aW9uXG4gKi9cbm1vaXplLmRlZXAgPSBtb2l6ZSh7IGlzRGVlcEVxdWFsOiB0cnVlIH0pO1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgZ2V0U3RhdHNcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5nZXRTdGF0c1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogZ2V0IHRoZSBzdGF0aXN0aWNzIG9mIGEgZ2l2ZW4gcHJvZmlsZSwgb3Igb3ZlcmFsbCB1c2FnZVxuICpcbiAqIEByZXR1cm5zIHN0YXRpc3RpY3MgZm9yIGEgZ2l2ZW4gcHJvZmlsZSBvciBvdmVyYWxsIHVzYWdlXG4gKi9cbm1vaXplLmdldFN0YXRzID0gZ2V0U3RhdHM7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBpbmZpbml0ZVxuICogQG1lbWJlcm9mIG1vZHVsZTptb2l6ZVxuICogQGFsaWFzIG1vaXplLmluZmluaXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2QgdGhhdCB3aWxsIHJlbW92ZSBhbGwgbGltaXRzIGZyb20gdGhlIGNhY2hlIHNpemVcbiAqXG4gKiBAcmV0dXJucyB0aGUgbW9pemVyIGZ1bmN0aW9uXG4gKi9cbm1vaXplLmluZmluaXRlID0gbW9pemUoeyBtYXhTaXplOiBJbmZpbml0eSB9KTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIGlzQ29sbGVjdGluZ1N0YXRzXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUuaXNDb2xsZWN0aW5nU3RhdHNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGFyZSBzdGF0cyBiZWluZyBjb2xsZWN0ZWRcbiAqXG4gKiBAcmV0dXJucyBhcmUgc3RhdHMgYmVpbmcgY29sbGVjdGVkXG4gKi9cbm1vaXplLmlzQ29sbGVjdGluZ1N0YXRzID0gZnVuY3Rpb24gaXNDb2xsZWN0aW5nU3RhdHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHN0YXRzQ2FjaGUuaXNDb2xsZWN0aW5nU3RhdHM7XG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgaXNNb2l6ZWRcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5pc01vaXplZFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogaXMgdGhlIGZuIHBhc3NlZCBhIG1vaXplZCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSBmbiB0aGUgb2JqZWN0IHRvIHRlc3RcbiAqIEByZXR1cm5zIGlzIGZuIGEgbW9pemVkIGZ1bmN0aW9uXG4gKi9cbm1vaXplLmlzTW9pemVkID0gZnVuY3Rpb24gaXNNb2l6ZWQoZm46IGFueSk6IGZuIGlzIE1vaXplZCB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiAhIWZuLmlzTW9pemVkO1xufTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIG1hdGNoZXNBcmdcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5tYXRjaGVzQXJnXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2Qgd2hlcmUgdGhlIGFyZyBtYXRjaGluZyBtZXRob2QgaXMgdGhlIGN1c3RvbSBvbmUgcGFzc2VkXG4gKlxuICogQHBhcmFtIGtleU1hdGNoZXIgdGhlIG1ldGhvZCB0byBjb21wYXJlIGFnYWluc3QgdGhvc2UgaW4gY2FjaGVcbiAqIEByZXR1cm5zIHRoZSBtb2l6ZXIgZnVuY3Rpb25cbiAqL1xubW9pemUubWF0Y2hlc0FyZyA9IGZ1bmN0aW9uIChhcmdNYXRjaGVyOiBJc0VxdWFsKSB7XG4gICAgcmV0dXJuIG1vaXplKHsgbWF0Y2hlc0FyZzogYXJnTWF0Y2hlciB9KTtcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBtYXRjaGVzS2V5XG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUubWF0Y2hlc0tleVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYSBtb2l6ZWQgbWV0aG9kIHdoZXJlIHRoZSBrZXkgbWF0Y2hpbmcgbWV0aG9kIGlzIHRoZSBjdXN0b20gb25lIHBhc3NlZFxuICpcbiAqIEBwYXJhbSBrZXlNYXRjaGVyIHRoZSBtZXRob2QgdG8gY29tcGFyZSBhZ2FpbnN0IHRob3NlIGluIGNhY2hlXG4gKiBAcmV0dXJucyB0aGUgbW9pemVyIGZ1bmN0aW9uXG4gKi9cbm1vaXplLm1hdGNoZXNLZXkgPSBmdW5jdGlvbiAoa2V5TWF0Y2hlcjogSXNNYXRjaGluZ0tleSkge1xuICAgIHJldHVybiBtb2l6ZSh7IG1hdGNoZXNLZXk6IGtleU1hdGNoZXIgfSk7XG59O1xuXG5mdW5jdGlvbiBtYXhBZ2U8TWF4QWdlIGV4dGVuZHMgbnVtYmVyPihcbiAgICBtYXhBZ2U6IE1heEFnZVxuKTogTW9pemU8eyBtYXhBZ2U6IE1heEFnZSB9PjtcbmZ1bmN0aW9uIG1heEFnZTxNYXhBZ2UgZXh0ZW5kcyBudW1iZXIsIFVwZGF0ZUV4cGlyZSBleHRlbmRzIGJvb2xlYW4+KFxuICAgIG1heEFnZTogTWF4QWdlLFxuICAgIGV4cGlyZU9wdGlvbnM6IFVwZGF0ZUV4cGlyZVxuKTogTW9pemU8eyBtYXhBZ2U6IE1heEFnZTsgdXBkYXRlRXhwaXJlOiBVcGRhdGVFeHBpcmUgfT47XG5mdW5jdGlvbiBtYXhBZ2U8TWF4QWdlIGV4dGVuZHMgbnVtYmVyLCBFeHBpcmVIYW5kbGVyIGV4dGVuZHMgT25FeHBpcmU+KFxuICAgIG1heEFnZTogTWF4QWdlLFxuICAgIGV4cGlyZU9wdGlvbnM6IEV4cGlyZUhhbmRsZXJcbik6IE1vaXplPHsgbWF4QWdlOiBNYXhBZ2U7IG9uRXhwaXJlOiBFeHBpcmVIYW5kbGVyIH0+O1xuZnVuY3Rpb24gbWF4QWdlPFxuICAgIE1heEFnZSBleHRlbmRzIG51bWJlcixcbiAgICBFeHBpcmVIYW5kbGVyIGV4dGVuZHMgT25FeHBpcmUsXG4gICAgRXhwaXJlT3B0aW9ucyBleHRlbmRzIHtcbiAgICAgICAgb25FeHBpcmU6IEV4cGlyZUhhbmRsZXI7XG4gICAgfVxuPihcbiAgICBtYXhBZ2U6IE1heEFnZSxcbiAgICBleHBpcmVPcHRpb25zOiBFeHBpcmVPcHRpb25zXG4pOiBNb2l6ZTx7IG1heEFnZTogTWF4QWdlOyBvbkV4cGlyZTogRXhwaXJlT3B0aW9uc1snb25FeHBpcmUnXSB9PjtcbmZ1bmN0aW9uIG1heEFnZTxcbiAgICBNYXhBZ2UgZXh0ZW5kcyBudW1iZXIsXG4gICAgVXBkYXRlRXhwaXJlIGV4dGVuZHMgYm9vbGVhbixcbiAgICBFeHBpcmVPcHRpb25zIGV4dGVuZHMge1xuICAgICAgICB1cGRhdGVFeHBpcmU6IFVwZGF0ZUV4cGlyZTtcbiAgICB9XG4+KFxuICAgIG1heEFnZTogTWF4QWdlLFxuICAgIGV4cGlyZU9wdGlvbnM6IEV4cGlyZU9wdGlvbnNcbik6IE1vaXplPHsgbWF4QWdlOiBNYXhBZ2U7IHVwZGF0ZUV4cGlyZTogVXBkYXRlRXhwaXJlIH0+O1xuZnVuY3Rpb24gbWF4QWdlPFxuICAgIE1heEFnZSBleHRlbmRzIG51bWJlcixcbiAgICBFeHBpcmVIYW5kbGVyIGV4dGVuZHMgT25FeHBpcmUsXG4gICAgVXBkYXRlRXhwaXJlIGV4dGVuZHMgYm9vbGVhbixcbiAgICBFeHBpcmVPcHRpb25zIGV4dGVuZHMge1xuICAgICAgICBvbkV4cGlyZTogRXhwaXJlSGFuZGxlcjtcbiAgICAgICAgdXBkYXRlRXhwaXJlOiBVcGRhdGVFeHBpcmU7XG4gICAgfVxuPihcbiAgICBtYXhBZ2U6IE1heEFnZSxcbiAgICBleHBpcmVPcHRpb25zOiBFeHBpcmVPcHRpb25zXG4pOiBNb2l6ZTx7XG4gICAgbWF4QWdlOiBNYXhBZ2U7XG4gICAgb25FeHBpcmU6IEV4cGlyZUhhbmRsZXI7XG4gICAgdXBkYXRlRXhwaXJlOiBVcGRhdGVFeHBpcmU7XG59PjtcbmZ1bmN0aW9uIG1heEFnZTxcbiAgICBNYXhBZ2UgZXh0ZW5kcyBudW1iZXIsXG4gICAgRXhwaXJlSGFuZGxlciBleHRlbmRzIE9uRXhwaXJlLFxuICAgIFVwZGF0ZUV4cGlyZSBleHRlbmRzIGJvb2xlYW4sXG4gICAgRXhwaXJlT3B0aW9ucyBleHRlbmRzIHtcbiAgICAgICAgb25FeHBpcmU/OiBFeHBpcmVIYW5kbGVyO1xuICAgICAgICB1cGRhdGVFeHBpcmU/OiBVcGRhdGVFeHBpcmU7XG4gICAgfVxuPihcbiAgICBtYXhBZ2U6IE1heEFnZSxcbiAgICBleHBpcmVPcHRpb25zPzogRXhwaXJlSGFuZGxlciB8IFVwZGF0ZUV4cGlyZSB8IEV4cGlyZU9wdGlvbnNcbikge1xuICAgIGlmIChleHBpcmVPcHRpb25zID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBtb2l6ZSh7XG4gICAgICAgICAgICBtYXhBZ2UsXG4gICAgICAgICAgICB1cGRhdGVFeHBpcmU6IGV4cGlyZU9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXhwaXJlT3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc3QgeyBvbkV4cGlyZSwgdXBkYXRlRXhwaXJlIH0gPSBleHBpcmVPcHRpb25zO1xuXG4gICAgICAgIHJldHVybiBtb2l6ZSh7XG4gICAgICAgICAgICBtYXhBZ2UsXG4gICAgICAgICAgICBvbkV4cGlyZSxcbiAgICAgICAgICAgIHVwZGF0ZUV4cGlyZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBleHBpcmVPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBtb2l6ZSh7XG4gICAgICAgICAgICBtYXhBZ2UsXG4gICAgICAgICAgICBvbkV4cGlyZTogZXhwaXJlT3B0aW9ucyxcbiAgICAgICAgICAgIHVwZGF0ZUV4cGlyZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vaXplKHsgbWF4QWdlIH0pO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgbWF4QWdlXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUubWF4QWdlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2Qgd2hlcmUgdGhlIGFnZSBvZiB0aGUgY2FjaGUgaXMgbGltaXRlZCB0byB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwYXNzZWRcbiAqXG4gKiBAcGFyYW0gbWF4QWdlIHRoZSBUVEwgb2YgdGhlIHZhbHVlIGluIGNhY2hlXG4gKiBAcmV0dXJucyB0aGUgbW9pemVyIGZ1bmN0aW9uXG4gKi9cbm1vaXplLm1heEFnZSA9IG1heEFnZTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIG1heEFyZ3NcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5tYXhBcmdzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2Qgd2hlcmUgdGhlIG51bWJlciBvZiBhcmd1bWVudHMgdXNlZCBmb3IgZGV0ZXJtaW5pbmcgY2FjaGUgaXMgbGltaXRlZCB0byB0aGUgdmFsdWUgcGFzc2VkXG4gKlxuICogQHBhcmFtIG1heEFyZ3MgdGhlIG51bWJlciBvZiBhcmdzIHRvIGJhc2UgdGhlIGtleSBvblxuICogQHJldHVybnMgdGhlIG1vaXplciBmdW5jdGlvblxuICovXG5tb2l6ZS5tYXhBcmdzID0gZnVuY3Rpb24gbWF4QXJncyhtYXhBcmdzOiBudW1iZXIpIHtcbiAgICByZXR1cm4gbW9pemUoeyBtYXhBcmdzIH0pO1xufTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIG1heFNpemVcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5tYXhTaXplXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2Qgd2hlcmUgdGhlIHRvdGFsIHNpemUgb2YgdGhlIGNhY2hlIGlzIGxpbWl0ZWQgdG8gdGhlIHZhbHVlIHBhc3NlZFxuICpcbiAqIEBwYXJhbSBtYXhTaXplIHRoZSBtYXhpbXVtIHNpemUgb2YgdGhlIGNhY2hlXG4gKiBAcmV0dXJucyB0aGUgbW9pemVyIGZ1bmN0aW9uXG4gKi9cbm1vaXplLm1heFNpemUgPSBmdW5jdGlvbiBtYXhTaXplKG1heFNpemU6IG51bWJlcikge1xuICAgIHJldHVybiBtb2l6ZSh7IG1heFNpemUgfSk7XG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgcHJvZmlsZVxuICogQG1lbWJlcm9mIG1vZHVsZTptb2l6ZVxuICogQGFsaWFzIG1vaXplLnByb2ZpbGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGEgbW9pemVkIG1ldGhvZCB3aXRoIGEgcHJvZmlsZSBuYW1lXG4gKlxuICogQHJldHVybnMgdGhlIG1vaXplciBmdW5jdGlvblxuICovXG5tb2l6ZS5wcm9maWxlID0gZnVuY3Rpb24gKHByb2ZpbGVOYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbW9pemUoeyBwcm9maWxlTmFtZSB9KTtcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBwcm9taXNlXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUucHJvbWlzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYSBtb2l6ZWQgbWV0aG9kIHNwZWNpZmljIHRvIGNhY2hpbmcgcmVzb2x2ZWQgcHJvbWlzZSAvIGFzeW5jIHZhbHVlc1xuICpcbiAqIEByZXR1cm5zIHRoZSBtb2l6ZXIgZnVuY3Rpb25cbiAqL1xubW9pemUucHJvbWlzZSA9IG1vaXplKHtcbiAgICBpc1Byb21pc2U6IHRydWUsXG4gICAgdXBkYXRlRXhwaXJlOiB0cnVlLFxufSk7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSByZWFjdFxuICogQG1lbWJlcm9mIG1vZHVsZTptb2l6ZVxuICogQGFsaWFzIG1vaXplLnJlYWN0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2Qgc3BlY2lmaWMgdG8gY2FjaGluZyBSZWFjdCBlbGVtZW50IHZhbHVlc1xuICpcbiAqIEByZXR1cm5zIHRoZSBtb2l6ZXIgZnVuY3Rpb25cbiAqL1xubW9pemUucmVhY3QgPSBtb2l6ZSh7IGlzUmVhY3Q6IHRydWUgfSk7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBzZXJpYWxpemVcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5zZXJpYWxpemVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGEgbW9pemVkIG1ldGhvZCB0aGF0IHdpbGwgc2VyaWFsaXplIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHVzZSBhcyB0aGUgY2FjaGUga2V5XG4gKlxuICogQHJldHVybnMgdGhlIG1vaXplciBmdW5jdGlvblxuICovXG5tb2l6ZS5zZXJpYWxpemUgPSBtb2l6ZSh7IGlzU2VyaWFsaXplZDogdHJ1ZSB9KTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIHNlcmlhbGl6ZVdpdGhcbiAqIEBtZW1iZXJvZiBtb2R1bGU6bW9pemVcbiAqIEBhbGlhcyBtb2l6ZS5zZXJpYWxpemVXaXRoXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBhIG1vaXplZCBtZXRob2QgdGhhdCB3aWxsIHNlcmlhbGl6ZSB0aGUgYXJndW1lbnRzIHBhc3NlZCB0byB1c2UgYXMgdGhlIGNhY2hlIGtleVxuICogYmFzZWQgb24gdGhlIHNlcmlhbGl6ZXIgcGFzc2VkXG4gKlxuICogQHJldHVybnMgdGhlIG1vaXplciBmdW5jdGlvblxuICovXG5tb2l6ZS5zZXJpYWxpemVXaXRoID0gZnVuY3Rpb24gKHNlcmlhbGl6ZXI6IFNlcmlhbGl6ZSkge1xuICAgIHJldHVybiBtb2l6ZSh7IGlzU2VyaWFsaXplZDogdHJ1ZSwgc2VyaWFsaXplciB9KTtcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBzaGFsbG93XG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUuc2hhbGxvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogc2hvdWxkIHNoYWxsb3cgZXF1YWxpdHkgY2hlY2sgYmUgdXNlZFxuICpcbiAqIEByZXR1cm5zIHRoZSBtb2l6ZXIgZnVuY3Rpb25cbiAqL1xubW9pemUuc2hhbGxvdyA9IG1vaXplKHsgaXNTaGFsbG93RXF1YWw6IHRydWUgfSk7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSB0cmFuc2Zvcm1BcmdzXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUudHJhbnNmb3JtQXJnc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogdHJhbnNmb3JtIHRoZSBhcmdzIHRvIGFsbG93IGZvciBzcGVjaWZpYyBjYWNoZSBrZXkgY29tcGFyaXNvblxuICpcbiAqIEBwYXJhbSB0cmFuc2Zvcm1BcmdzIHRoZSBhcmdzIHRyYW5zZm9ybWVyXG4gKiBAcmV0dXJucyB0aGUgbW9pemVyIGZ1bmN0aW9uXG4gKi9cbm1vaXplLnRyYW5zZm9ybUFyZ3MgPSA8VHJhbnNmb3JtZXIgZXh0ZW5kcyBUcmFuc2Zvcm1LZXk+KFxuICAgIHRyYW5zZm9ybUFyZ3M6IFRyYW5zZm9ybWVyXG4pID0+IG1vaXplKHsgdHJhbnNmb3JtQXJncyB9KTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIHVwZGF0ZUNhY2hlRm9yS2V5XG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1vaXplXG4gKiBAYWxpYXMgbW9pemUudXBkYXRlQ2FjaGVGb3JLZXlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIHVwZGF0ZSB0aGUgY2FjaGUgZm9yIGEgZ2l2ZW4ga2V5IHdoZW4gdGhlIG1ldGhvZCBwYXNzZWQgcmV0dXJucyB0cnV0aHlcbiAqXG4gKiBAcGFyYW0gdXBkYXRlQ2FjaGVGb3JLZXkgdGhlIG1ldGhvZCB0byBkZXRlcm1pbmUgd2hlbiB0byB1cGRhdGUgY2FjaGVcbiAqIEByZXR1cm5zIHRoZSBtb2l6ZXIgZnVuY3Rpb25cbiAqL1xubW9pemUudXBkYXRlQ2FjaGVGb3JLZXkgPSA8VXBkYXRlV2hlbiBleHRlbmRzIFVwZGF0ZUNhY2hlRm9yS2V5PihcbiAgICB1cGRhdGVDYWNoZUZvcktleTogVXBkYXRlV2hlblxuKSA9PiBtb2l6ZSh7IHVwZGF0ZUNhY2hlRm9yS2V5IH0pO1xuXG4vLyBBZGQgc2VsZi1yZWZlcnJpbmcgYGRlZmF1bHRgIHByb3BlcnR5IGZvciBlZGdlLWNhc2UgY3Jvc3MtY29tcGF0aWJpbGl0eSBvZiBtaXhlZCBFU00vQ29tbW9uSlMgdXNhZ2UuXG4vLyBUaGlzIHByb3BlcnR5IGlzIGZyb3plbiBhbmQgbm9uLWVudW1lcmFibGUgdG8gYXZvaWQgdmlzaWJpbGl0eSBvbiBpdGVyYXRpb24gb3IgYWNjaWRlbnRhbCBvdmVycmlkZXMuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkobW9pemUsICdkZWZhdWx0Jywge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IG1vaXplLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb2l6ZTtcbiIsICJpbXBvcnQgeyBNVEdDYXJkTGlua3NQbHVnaW4gfSBmcm9tIFwic3JjL3BsdWdpblwiO1xuXG5leHBvcnQgZGVmYXVsdCBNVEdDYXJkTGlua3NQbHVnaW47XG4iLCAiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBNVEdDYXJkTGlua3NTZXR0aW5ncywgTVRHQ2FyZExpbmtzU2V0dGluZ3NUYWIgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgdmlld1BsdWdpbiB9IGZyb20gXCIuL3ZpZXctcGx1Z2luXCI7XG5cbmV4cG9ydCBjbGFzcyBNVEdDYXJkTGlua3NQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTVRHQ2FyZExpbmtzU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKHZpZXdQbHVnaW4odGhpcy5zZXR0aW5ncykpO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBNVEdDYXJkTGlua3NTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHRjb25zdCBkZWZhdWx0U2V0dGluZ3M6IE1UR0NhcmRMaW5rc1NldHRpbmdzID0ge1xuXHRcdFx0bGlua1NpdGU6IFwic2NyeWZhbGxcIixcblx0XHRcdGltYWdlU2l6ZTogMC41LFxuXHRcdH07XG5cblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0U2V0dGluZ3MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTVRHQ2FyZExpbmtzUGx1Z2luIH0gZnJvbSBcIi4vcGx1Z2luXCI7XG5cbmV4cG9ydCB0eXBlIExpbmtTaXRlID1cblx0fCBcInNjcnlmYWxsXCJcblx0fCBcImdhdGhlcmVyXCJcblx0fCBcImVkaHJlY1wiXG5cdHwgXCJ0Y2dwbGF5ZXJcIlxuXHR8IFwiY2FyZGhvYXJkZXJcIlxuXHR8IFwiY2FyZG1hcmtldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1UR0NhcmRMaW5rc1NldHRpbmdzIHtcblx0bGlua1NpdGU6IExpbmtTaXRlO1xuXHRpbWFnZVNpemU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIE1UR0NhcmRMaW5rc1NldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTVRHQ2FyZExpbmtzUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1UR0NhcmRMaW5rc1BsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJNVEcgQ2FyZCBMaW5rcy5cIiB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJMaW5rIHdlYnNpdGVcIilcblx0XHRcdC5zZXREZXNjKFwiVGhlIHdlYnNpdGUgdG8gbGluayB0byB3aGVuIGNsaWNraW5nIG9uIGEgY2FyZCBsaW5rLlwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdC5hZGRPcHRpb25zKHtcblx0XHRcdFx0XHRcdHNjcnlmYWxsOiBcIlNjcnlmYWxsXCIsXG5cdFx0XHRcdFx0XHRnYXRoZXJlcjogXCJHYXRoZXJlclwiLFxuXHRcdFx0XHRcdFx0ZWRocmVjOiBcIkVESFJlY1wiLFxuXHRcdFx0XHRcdFx0dGNncGxheWVyOiBcIlRDR1BsYXllclwiLFxuXHRcdFx0XHRcdFx0Y2FyZGhvYXJkZXI6IFwiQ2FyZGhvYXJkZXJcIixcblx0XHRcdFx0XHRcdGNhcmRtYXJrZXQ6IFwiQ2FyZG1hcmtldFwiLFxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxpbmtTaXRlKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxpbmtTaXRlID0gdmFsdWUgYXMgTGlua1NpdGU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkltYWdlIHNpemVcIilcblx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcIlRoZSBzaXplIG9mIHRoZSBpbWFnZSBzaG93biB3aGVuIGhvdmVyaW5nIG92ZXIgYSBjYXJkIGxpbmsuXCJcblx0XHRcdClcblx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT4ge1xuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDAsIDEsIDAuMSlcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1hZ2VTaXplKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmltYWdlU2l6ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0fVxufVxuIiwgImltcG9ydCB7IHN5bnRheFRyZWUgfSBmcm9tIFwiQGNvZGVtaXJyb3IvbGFuZ3VhZ2VcIjtcbmltcG9ydCB7IFJhbmdlU2V0QnVpbGRlciB9IGZyb20gXCJAY29kZW1pcnJvci9zdGF0ZVwiO1xuaW1wb3J0IHtcblx0RGVjb3JhdGlvbixcblx0RGVjb3JhdGlvblNldCxcblx0RWRpdG9yVmlldyxcblx0UGx1Z2luVmFsdWUsXG5cdFZpZXdVcGRhdGUsXG59IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCI7XG5pbXBvcnQgeyBDYXJkV2lkZ2V0IH0gZnJvbSBcIi4vY2FyZC13aWRnZXRcIjtcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gXCJuYW5vaWRcIjtcbmltcG9ydCB7IE1UR0NhcmRMaW5rc1NldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFZpZXdQbHVnaW4gfSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdmlld1BsdWdpbihzZXR0aW5nczogTVRHQ2FyZExpbmtzU2V0dGluZ3MpIHtcblx0cmV0dXJuIFZpZXdQbHVnaW4uZGVmaW5lKFxuXHRcdCh2aWV3KSA9PiBuZXcgQ2FyZFZpZXdQbHVnaW5WYWx1ZSh2aWV3LCBzZXR0aW5ncyksXG5cdFx0e1xuXHRcdFx0ZGVjb3JhdGlvbnM6ICh2YWx1ZTogQ2FyZFZpZXdQbHVnaW5WYWx1ZSkgPT4gdmFsdWUuZGVjb3JhdGlvbnMsXG5cdFx0fVxuXHQpO1xufVxuXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdQbHVnaW5WYWx1ZSBpbXBsZW1lbnRzIFBsdWdpblZhbHVlIHtcblx0ZGVjb3JhdGlvbnM6IERlY29yYXRpb25TZXQ7XG5cblx0Y29uc3RydWN0b3IodmlldzogRWRpdG9yVmlldywgcHVibGljIHNldHRpbmdzOiBNVEdDYXJkTGlua3NTZXR0aW5ncykge1xuXHRcdHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmJ1aWxkRGVjb3JhdGlvbnModmlldyk7XG5cdH1cblxuXHR1cGRhdGUodXBkYXRlOiBWaWV3VXBkYXRlKSB7XG5cdFx0aWYgKFxuXHRcdFx0dXBkYXRlLmRvY0NoYW5nZWQgfHxcblx0XHRcdHVwZGF0ZS52aWV3cG9ydENoYW5nZWQgfHxcblx0XHRcdHVwZGF0ZS5zZWxlY3Rpb25TZXRcblx0XHQpIHtcblx0XHRcdHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmJ1aWxkRGVjb3JhdGlvbnModXBkYXRlLnZpZXcpO1xuXHRcdH1cblx0fVxuXG5cdGRlc3Ryb3koKSB7fVxuXG5cdGJ1aWxkRGVjb3JhdGlvbnModmlldzogRWRpdG9yVmlldyk6IERlY29yYXRpb25TZXQge1xuXHRcdGNvbnN0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyPERlY29yYXRpb24+KCk7XG5cdFx0Y29uc3QgcGx1Z2luID0gdGhpcyBhcyBDYXJkVmlld1BsdWdpblZhbHVlO1xuXG5cdFx0Zm9yIChjb25zdCB7IGZyb20sIHRvIH0gb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG5cdFx0XHRzeW50YXhUcmVlKHZpZXcuc3RhdGUpLml0ZXJhdGUoe1xuXHRcdFx0XHRmcm9tLFxuXHRcdFx0XHR0byxcblx0XHRcdFx0ZW50ZXIobm9kZSkge1xuXHRcdFx0XHRcdGlmICgvaG1kLWJhcmVsaW5rX2xpbmt8aG1kLWJhcmVsaW5rX2xpbmtfbGlzdC1bMC05XSsveS50ZXN0KG5vZGUudHlwZS5uYW1lKSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgaWQgPSBuYW5vaWQoKTtcblx0XHRcdFx0XHRcdGNvbnN0IG5hbWUgPSB2aWV3LnN0YXRlLmRvY1xuXHRcdFx0XHRcdFx0XHQuc2xpY2Uobm9kZS5mcm9tLCBub2RlLnRvKVxuXHRcdFx0XHRcdFx0XHQudG9TdHJpbmcoKVxuXHRcdFx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0XHRcdFx0bGV0IGlzU2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgcmFuZ2Ugb2Ygdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRyYW5nZS5hbmNob3IgPj0gbm9kZS5mcm9tIC0gMSAmJlxuXHRcdFx0XHRcdFx0XHRcdHJhbmdlLmFuY2hvciA8PSBub2RlLnRvICsgMVxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRpc1NlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIWlzU2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRcdFx0YnVpbGRlci5hZGQoXG5cdFx0XHRcdFx0XHRcdFx0bm9kZS5mcm9tIC0gMSxcblx0XHRcdFx0XHRcdFx0XHRub2RlLmZyb20sXG5cdFx0XHRcdFx0XHRcdFx0RGVjb3JhdGlvbi5yZXBsYWNlKHt9KVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRidWlsZGVyLmFkZChcblx0XHRcdFx0XHRcdFx0bm9kZS5mcm9tLFxuXHRcdFx0XHRcdFx0XHRub2RlLnRvLFxuXHRcdFx0XHRcdFx0XHREZWNvcmF0aW9uLm1hcmsoe1xuXHRcdFx0XHRcdFx0XHRcdHRhZ05hbWU6IFwiYVwiLFxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdGlkOiBgJHtpZH0tYWAsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbm1vdXNlb3ZlcjogYGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiJHtpZH0tMVwiKT8udG9nZ2xlVmlzaWJpbGl0eSh0cnVlKTsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCIke2lkfS0yXCIpPy50b2dnbGVWaXNpYmlsaXR5KHRydWUpYCxcblx0XHRcdFx0XHRcdFx0XHRcdG9ubW91c2VvdXQ6IGBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIiR7aWR9LTFcIik/LnRvZ2dsZVZpc2liaWxpdHkoZmFsc2UpOyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIiR7aWR9LTJcIik/LnRvZ2dsZVZpc2liaWxpdHkoZmFsc2UpYCxcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0YnVpbGRlci5hZGQoXG5cdFx0XHRcdFx0XHRcdG5vZGUudG8sXG5cdFx0XHRcdFx0XHRcdG5vZGUudG8sXG5cdFx0XHRcdFx0XHRcdERlY29yYXRpb24ud2lkZ2V0KHtcblx0XHRcdFx0XHRcdFx0XHR3aWRnZXQ6IG5ldyBDYXJkV2lkZ2V0KFxuXHRcdFx0XHRcdFx0XHRcdFx0aWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0cGx1Z2luLnNldHRpbmdzXG5cdFx0XHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdGlmICghaXNTZWxlY3RlZCkge1xuXHRcdFx0XHRcdFx0XHRidWlsZGVyLmFkZChcblx0XHRcdFx0XHRcdFx0XHRub2RlLnRvLFxuXHRcdFx0XHRcdFx0XHRcdG5vZGUudG8gKyAxLFxuXHRcdFx0XHRcdFx0XHRcdERlY29yYXRpb24ucmVwbGFjZSh7fSlcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYnVpbGRlci5maW5pc2goKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEVkaXRvclZpZXcsIFdpZGdldFR5cGUgfSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xuaW1wb3J0IHsgU2NyeWZhbGxDYXJkLCBnZXRTY3J5ZmFsbENhcmQgfSBmcm9tIFwiLi9zY3J5ZmFsbFwiO1xuaW1wb3J0IHsgTGlua1NpdGUsIE1UR0NhcmRMaW5rc1NldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuZXhwb3J0IGNvbnN0IGxpbmtTaXRlczogUmVjb3JkPExpbmtTaXRlLCAoY2FjaGU6IFNjcnlmYWxsQ2FyZCkgPT4gc3RyaW5nPiA9IHtcblx0c2NyeWZhbGw6IChjYWNoZSkgPT4gY2FjaGUuc2NyeWZhbGxfdXJpLFxuXHRnYXRoZXJlcjogKGNhY2hlKSA9PiBjYWNoZS5yZWxhdGVkX3VyaXMuZ2F0aGVyZXIsXG5cdGVkaHJlYzogKGNhY2hlKSA9PiBjYWNoZS5yZWxhdGVkX3VyaXMuZWRocmVjLFxuXHR0Y2dwbGF5ZXI6IChjYWNoZSkgPT4gY2FjaGUucHVyY2hhc2VfdXJpcy50Y2dwbGF5ZXIsXG5cdGNhcmRob2FyZGVyOiAoY2FjaGUpID0+IGNhY2hlLnB1cmNoYXNlX3VyaXMuY2FyZGhvYXJkZXIsXG5cdGNhcmRtYXJrZXQ6IChjYWNoZSkgPT4gY2FjaGUucHVyY2hhc2VfdXJpcy5jYXJkbWFya2V0LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltZyhpZDogc3RyaW5nLCB3aWR0aDogbnVtYmVyKSB7XG5cdGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cdGltZy5jbGFzc05hbWUgPSBcInNjcnlmYWxsX2NhcmRcIjtcblx0aW1nLndpZHRoID0gd2lkdGg7XG5cdGltZy5pZCA9IGlkO1xuXHRpbWcuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuXHRpbWcudG9nZ2xlVmlzaWJpbGl0eShmYWxzZSk7XG5cdHJldHVybiBpbWc7XG59XG5cbmV4cG9ydCBjbGFzcyBDYXJkV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHB1YmxpYyBpZDogc3RyaW5nLFxuXHRcdHB1YmxpYyBuYW1lOiBzdHJpbmcsXG5cdFx0cHVibGljIHNldHRpbmdzOiBNVEdDYXJkTGlua3NTZXR0aW5nc1xuXHQpIHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0dG9ET00odmlldzogRWRpdG9yVmlldyk6IEhUTUxFbGVtZW50IHtcblx0XHRsZXQgd2lkdGggPSA0NDggKiB0aGlzLnNldHRpbmdzLmltYWdlU2l6ZTtcblx0XHRjb25zdCBpbWcgPSBjcmVhdGVJbWcoYCR7dGhpcy5pZH0tMWAsIHdpZHRoKTtcblx0XHRjb25zdCBpbWcyID0gY3JlYXRlSW1nKGAke3RoaXMuaWR9LTJgLCB3aWR0aCk7XG5cblx0XHRnZXRTY3J5ZmFsbENhcmQodGhpcy5uYW1lKS50aGVuKChjYXJkKSA9PiB7XG5cdFx0XHRpZiAoY2FyZCA9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgaW1hZ2VzID0gW107XG5cdFx0XHRpZiAoY2FyZC5pbWFnZV91cmlzKSB7XG5cdFx0XHRcdGltYWdlcy5wdXNoKGNhcmQuaW1hZ2VfdXJpcy5ub3JtYWwpO1xuXHRcdFx0fSBlbHNlIGlmIChjYXJkLmNhcmRfZmFjZXMpIHtcblx0XHRcdFx0aW1hZ2VzLnB1c2goY2FyZC5jYXJkX2ZhY2VzWzBdLmltYWdlX3VyaXMubm9ybWFsKTtcblx0XHRcdFx0aW1hZ2VzLnB1c2goY2FyZC5jYXJkX2ZhY2VzWzFdLmltYWdlX3VyaXMubm9ybWFsKTtcblx0XHRcdH1cblxuXHRcdFx0aW1nLnNyYyA9IGltYWdlc1swXSA/PyBcIlwiO1xuXHRcdFx0aW1nMi5zcmMgPSBpbWFnZXNbMV0gPz8gXCJcIjtcblxuXHRcdFx0Y29uc3Qgb25Nb3VzZU1vdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0XHR3aWR0aCA9IDQ0OCAqIHRoaXMuc2V0dGluZ3MuaW1hZ2VTaXplO1xuXG5cdFx0XHRcdGlmIChpbWcud2lkdGggIT0gd2lkdGgpIHtcblx0XHRcdFx0XHRpbWcud2lkdGggPSB3aWR0aDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpbWcyLndpZHRoICE9IHdpZHRoKSB7XG5cdFx0XHRcdFx0aW1nMi53aWR0aCA9IHdpZHRoO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgcmVjdCA9IHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRpbWcuc3R5bGUubGVmdCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdCArIDEwICsgXCJweFwiO1xuXHRcdFx0XHRpbWcuc3R5bGUudG9wID0gZS5jbGllbnRZIC0gcmVjdC50b3AgKyA0MCArIFwicHhcIjtcblx0XHRcdFx0aW1nMi5zdHlsZS5sZWZ0ID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0ICsgMTAgKyB3aWR0aCArIFwicHhcIjtcblx0XHRcdFx0aW1nMi5zdHlsZS50b3AgPSBlLmNsaWVudFkgLSByZWN0LnRvcCArIDQwICsgXCJweFwiO1xuXG5cdFx0XHRcdGlmIChpbWcuc3R5bGUub3BhY2l0eSAhPSBcIjEwMCVcIikge1xuXHRcdFx0XHRcdGltZy5zdHlsZS5vcGFjaXR5ID0gXCIxMDAlXCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW1nMi5zdHlsZS5vcGFjaXR5ICE9IFwiMTAwJVwiKSB7XG5cdFx0XHRcdFx0aW1nMi5zdHlsZS5vcGFjaXR5ID0gXCIxMDAlXCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5pZH0tYWApO1xuXHRcdFx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0XHRcdGVsZW1lbnQub25tb3VzZWRvd24gPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCB1cmwgPVxuXHRcdFx0XHRcdFx0XHRsaW5rU2l0ZXNbdGhpcy5zZXR0aW5ncy5saW5rU2l0ZV0oY2FyZCkgPz9cblx0XHRcdFx0XHRcdFx0Y2FyZC5zY3J5ZmFsbF91cmk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcblx0XHRcdFx0XHRcdGEuaHJlZiA9IHVybDtcblx0XHRcdFx0XHRcdGEuY2xpY2soKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlKTtcblx0XHRcdHRoaXMuZGVzdHJveSA9ICgpID0+XG5cdFx0XHRcdHZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmUpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdHNwYW4uYXBwZW5kQ2hpbGQoaW1nKTtcblx0XHRzcGFuLmFwcGVuZENoaWxkKGltZzIpO1xuXG5cdFx0cmV0dXJuIHNwYW47XG5cdH1cbn1cbiIsICJpbXBvcnQgbW9pemUgZnJvbSBcIm1vaXplXCI7XG5pbXBvcnQgeyByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCB0eXBlIFNjcnlmYWxsQ2FyZCA9IHtcblx0bmFtZTogc3RyaW5nO1xuXHRzY3J5ZmFsbF91cmk6IHN0cmluZztcblx0cmVsYXRlZF91cmlzOiB7XG5cdFx0ZWRocmVjOiBzdHJpbmc7XG5cdFx0Z2F0aGVyZXI6IHN0cmluZztcblx0fTtcblx0cHVyY2hhc2VfdXJpczoge1xuXHRcdHRjZ3BsYXllcjogc3RyaW5nO1xuXHRcdGNhcmRob2FyZGVyOiBzdHJpbmc7XG5cdFx0Y2FyZG1hcmtldDogc3RyaW5nO1xuXHR9O1xuXHRpbWFnZV91cmlzPzoge1xuXHRcdG5vcm1hbDogc3RyaW5nO1xuXHR9O1xuXHRjYXJkX2ZhY2VzPzoge1xuXHRcdGltYWdlX3VyaXM6IHtcblx0XHRcdG5vcm1hbDogc3RyaW5nO1xuXHRcdH07XG5cdH1bXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTY3J5ZmFsbENhcmQgPSBtb2l6ZS5wcm9taXNlKFxuXHRhc3luYyAobmFtZTogc3RyaW5nKTogUHJvbWlzZTxTY3J5ZmFsbENhcmQgfCBudWxsPiA9PiB7XG5cdFx0Y29uc3QgZW5jb2RlZE5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSk7XG5cdFx0Y29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLnNjcnlmYWxsLmNvbS9jYXJkcy9uYW1lZD9mdXp6eT0ke2VuY29kZWROYW1lfWA7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHVybCk7XG5cdFx0XG5cdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHtcblx0XHRcdHJldHVybiByZXNwb25zZS5qc29uO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH0sXG5cdHtcblx0XHRtYXhTaXplOiAyMDAwLCAvLyBBdmVyYWdlIHJlc3BvbnNlIHNpemUgaXMgNWtiIHVuemlwcGVkXG5cdH1cbik7XG4iLCAiZXhwb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcbmV4cG9ydCBsZXQgcmFuZG9tID0gYnl0ZXMgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShieXRlcykpXG5leHBvcnQgbGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgZGVmYXVsdFNpemUsIGdldFJhbmRvbSkgPT4ge1xuICBsZXQgbWFzayA9ICgyIDw8IChNYXRoLmxvZyhhbHBoYWJldC5sZW5ndGggLSAxKSAvIE1hdGguTE4yKSkgLSAxXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBkZWZhdWx0U2l6ZSkgLyBhbHBoYWJldC5sZW5ndGgpXG4gIHJldHVybiAoc2l6ZSA9IGRlZmF1bHRTaXplKSA9PiB7XG4gICAgbGV0IGlkID0gJydcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGJ5dGVzID0gZ2V0UmFuZG9tKHN0ZXApXG4gICAgICBsZXQgaiA9IHN0ZXBcbiAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgaWQgKz0gYWxwaGFiZXRbYnl0ZXNbal0gJiBtYXNrXSB8fCAnJ1xuICAgICAgICBpZiAoaWQubGVuZ3RoID09PSBzaXplKSByZXR1cm4gaWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBsZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUgPSAyMSkgPT5cbiAgY3VzdG9tUmFuZG9tKGFscGhhYmV0LCBzaXplLCByYW5kb20pXG5leHBvcnQgbGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+XG4gIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpLnJlZHVjZSgoaWQsIGJ5dGUpID0+IHtcbiAgICBieXRlICY9IDYzXG4gICAgaWYgKGJ5dGUgPCAzNikge1xuICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNilcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgaWQgKz0gKGJ5dGUgLSAyNikudG9TdHJpbmcoMzYpLnRvVXBwZXJDYXNlKClcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPiA2Mikge1xuICAgICAgaWQgKz0gJy0nXG4gICAgfSBlbHNlIHtcbiAgICAgIGlkICs9ICdfJ1xuICAgIH1cbiAgICByZXR1cm4gaWRcbiAgfSwgJycpXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV0EsVUFBTSx1QkFBeUM7UUFDN0MsU0FBUztRQUNULGVBQWU7UUFDZixXQUFXO1FBQ1gsU0FBUztRQUNULFlBQVk7UUFDWixlQUFlO1FBQ2YsWUFBWTtRQUNaLGNBQWM7O0FBU0QsVUFBQSxRQUFVLE1BQU0sVUFBUztBQVdsQyxlQUFVLFdBQVcsV0FBNkI7QUFDOUMsWUFBQSxTQUFXLFVBQVM7QUFFNUIsWUFBSSxDQUFDLFFBQVE7QUFDWCxpQkFBTyxDQUFBO1FBQ1I7QUFFRCxZQUFJLFdBQVcsR0FBRztBQUNoQixpQkFBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JCO0FBRUQsWUFBSSxXQUFXLEdBQUc7QUFDaEIsaUJBQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQztRQUNuQztBQUVELFlBQUksV0FBVyxHQUFHO0FBQ2hCLGlCQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUM7UUFDakQ7QUFFRCxlQUFPLE1BQU0sS0FBSyxXQUFXLENBQUM7TUFDaEM7QUFXTSxlQUFVLGlCQUFt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QUMvRDtBQUFBLEVBRUEsV0FBVztBQUFBLEVBQUM7QUFBQSxFQUVaLE1BQU0sZUFBZTtBQUNwQixVQUFNLGtCQUF3QztBQUFBLE1BQzdDLFVBQVU7QUFBQSxNQUNWLFdBQVc7QUFBQSxJQUNaO0FBRUEsU0FBSyxXQUFXLE9BQU8sT0FBTyxpQkFBaUIsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQ3JFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDs7O0FEM0JBLElBQU8sZUFBUTsiLAogICJuYW1lcyI6IFsiQ2FjaGUiLCAiYXJlUmVnRXhwc0VxdWFsIiwgIkRFRkFVTFRfT1BUSU9OUyIsICJpc0RlZXBFcXVhbCIsICJpc1Byb21pc2UiLCAiaXNSZWFjdCIsICJpc1NlcmlhbGl6ZWQiLCAiaXNTaGFsbG93RXF1YWwiLCAibWF0Y2hlc0FyZyIsICJ1bmRlZmluZWQiLCAibWF0Y2hlc0tleSIsICJtYXhBZ2UiLCAibWF4QXJncyIsICJtYXhTaXplIiwgIm9uRXhwaXJlIiwgInByb2ZpbGVOYW1lIiwgInNlcmlhbGl6ZXIiLCAidXBkYXRlQ2FjaGVGb3JLZXkiLCAidHJhbnNmb3JtQXJncyIsICJ1cGRhdGVFeHBpcmUiLCAiY29tYmluZSIsICJfbGVuIiwgImFyZ3VtZW50cyIsICJsZW5ndGgiLCAiZnVuY3Rpb25zIiwgIkFycmF5IiwgIl9rZXkiLCAicmVkdWNlIiwgImYiLCAiZyIsICJhcHBseSIsICJjb21wb3NlIiwgIl9sZW4yIiwgIl9rZXkyIiwgImZpbmRFeHBpcmF0aW9uSW5kZXgiLCAiZXhwaXJhdGlvbnMiLCAia2V5IiwgImluZGV4IiwgImNyZWF0ZUZpbmRLZXlJbmRleCIsICJpc0VxdWFsIiwgImlzTWF0Y2hpbmdLZXkiLCAiYXJlS2V5c0VxdWFsIiwgImNhY2hlS2V5IiwgImtleXMiLCAia2V5c0luZGV4IiwgIm1lcmdlT3B0aW9ucyIsICJvcmlnaW5hbE9wdGlvbnMiLCAibmV3T3B0aW9ucyIsICJfZXh0ZW5kcyIsICJvbkNhY2hlQWRkIiwgIm9uQ2FjaGVDaGFuZ2UiLCAib25DYWNoZUhpdCIsICJpc01vaXplZCIsICJmbiIsICJzZXROYW1lIiwgIm9yaWdpbmFsRnVuY3Rpb25OYW1lIiwgIm5hbWUiLCAiT2JqZWN0IiwgImRlZmluZVByb3BlcnR5IiwgImNvbmZpZ3VyYWJsZSIsICJlbnVtZXJhYmxlIiwgInZhbHVlIiwgIndyaXRhYmxlIiwgIl91bnVzZWQiLCAiY2xlYXJFeHBpcmF0aW9uIiwgInNob3VsZFJlbW92ZSIsICJleHBpcmF0aW9uSW5kZXgiLCAiY2xlYXJUaW1lb3V0IiwgInRpbWVvdXRJZCIsICJzcGxpY2UiLCAiY3JlYXRlVGltZW91dCIsICJleHBpcmF0aW9uTWV0aG9kIiwgInNldFRpbWVvdXQiLCAidW5yZWYiLCAiY3JlYXRlT25DYWNoZUFkZFNldEV4cGlyYXRpb24iLCAib3B0aW9ucyIsICJjYWNoZSIsICJtb2l6ZWRPcHRpb25zIiwgIm1vaXplZCIsICJmaW5kS2V5SW5kZXgiLCAia2V5SW5kZXgiLCAidmFsdWVzIiwgInVuc2hpZnQiLCAicHVzaCIsICJjcmVhdGVPbkNhY2hlSGl0UmVzZXRFeHBpcmF0aW9uIiwgImdldE1heEFnZU9wdGlvbnMiLCAiaXNGaW5pdGUiLCAic3RhdHNDYWNoZSIsICJhbm9ueW1vdXNQcm9maWxlTmFtZUNvdW50ZXIiLCAiaXNDb2xsZWN0aW5nU3RhdHMiLCAicHJvZmlsZXMiLCAiaGFzV2FybmluZ0Rpc3BsYXllZCIsICJjbGVhclN0YXRzIiwgImNvbGxlY3RTdGF0cyIsICJjcmVhdGVPbkNhY2hlQWRkSW5jcmVtZW50Q2FsbHMiLCAiY2FsbHMiLCAiaGl0cyIsICJjcmVhdGVPbkNhY2hlSGl0SW5jcmVtZW50Q2FsbHNBbmRIaXRzIiwgImdldERlZmF1bHRQcm9maWxlTmFtZSIsICJkaXNwbGF5TmFtZSIsICJnZXRVc2FnZVBlcmNlbnRhZ2UiLCAidG9GaXhlZCIsICJnZXRTdGF0cyIsICJjb25zb2xlIiwgIndhcm4iLCAidXNhZ2UiLCAicHJvZmlsZSIsICJjb21wbGV0ZVN0YXRzIiwgImNvbXBsZXRlUHJvZmlsZXMiLCAiY29tcHV0ZWRQcm9maWxlcyIsICJnZXRTdGF0c09wdGlvbnMiLCAiQUxXQVlTX1NLSVBQRURfUFJPUEVSVElFUyIsICJjYWxsZWUiLCAiY2FsbGVyIiwgImNvbnN0cnVjdG9yIiwgInByb3RvdHlwZSIsICJjb3B5U3RhdGljUHJvcGVydGllcyIsICJvcmlnaW5hbEZuIiwgIm5ld0ZuIiwgInNraXBwZWRQcm9wZXJ0aWVzIiwgImdldE93blByb3BlcnR5TmFtZXMiLCAiZm9yRWFjaCIsICJwcm9wZXJ0eSIsICJpbmRleE9mIiwgImRlc2NyaXB0b3IiLCAiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwgImdldCIsICJzZXQiLCAiYWRkSW5zdGFuY2VNZXRob2RzIiwgIm1lbW9pemVkIiwgIl9yZWYiLCAiY2xlYXIiLCAiX21pY3JvTWVtb2l6ZU9wdGlvbnMiLCAidHJhbnNmb3JtS2V5IiwgImhhcyIsICJjYWNoZVNuYXBzaG90IiwgInJlbW92ZSIsICJfbW9pemVkJF9taWNyb01lbW9pemUiLCAiZXhpc3RpbmdLZXkiLCAiY3V0b2ZmIiwgInNpemUiLCAidXBkYXRlQXN5bmNDYWNoZSIsICJvcmRlckJ5THJ1IiwgImFkZEluc3RhbmNlUHJvcGVydGllcyIsICJfcmVmMiIsICJtb2l6ZU9wdGlvbnMiLCAib3JpZ2luYWxGdW5jdGlvbiIsICJtaWNyb01lbW9pemVPcHRpb25zIiwgImRlZmluZVByb3BlcnRpZXMiLCAiY3VycmVudENhY2hlIiwgInNsaWNlIiwgImV4cGlyYXRpb25zU25hcHNob3QiLCAiY3JlYXRlTW9pemVJbnN0YW5jZSIsICJjb25maWd1cmF0aW9uIiwgIlJFQUNUX0VMRU1FTlRfVFlQRSIsICJTeW1ib2wiLCAiZm9yIiwgImNyZWF0ZU1vaXplZENvbXBvbmVudCIsICJtb2l6ZXIiLCAicmVhY3RNb2l6ZXIiLCAiTW9pemVkIiwgInByb3BzIiwgImNvbnRleHQiLCAidXBkYXRlciIsICJNb2l6ZWRDb21wb25lbnQiLCAiaXNSZWFjdENvbXBvbmVudCIsICJyZW5kZXIiLCAiJCR0eXBlb2YiLCAidHlwZSIsICJyZWYiLCAiX293bmVyIiwgImNyZWF0ZUdldEluaXRpYWxBcmdzIiwgImFyZ3MiLCAiY2xvbmUiLCAiZ2V0Q3V0b2ZmIiwgImFycmF5IiwgImNyZWF0ZURlZmF1bHRSZXBsYWNlciIsICJkZWZhdWx0UmVwbGFjZXIiLCAidG9TdHJpbmciLCAidGhpc0N1dG9mZiIsICJ2YWx1ZUN1dG9mZiIsICJqb2luIiwgImdldFN0cmluZ2lmaWVkQXJndW1lbnQiLCAiYXJnIiwgInR5cGVPZkFyZyIsICJKU09OIiwgInN0cmluZ2lmeSIsICJkZWZhdWx0QXJndW1lbnRTZXJpYWxpemVyIiwgImdldFNlcmlhbGl6ZXJGdW5jdGlvbiIsICJnZXRJc1NlcmlhbGl6ZWRLZXlFcXVhbCIsICJjcmVhdGVPbkNhY2hlT3BlcmF0aW9uIiwgIl9jYWNoZUlnbm9yZWQiLCAiX21pY3JvTWVtb2l6ZU9wdGlvbnNJZ25vcmVkIiwgImdldElzRXF1YWwiLCAiZGVlcEVxdWFsIiwgInNoYWxsb3dFcXVhbCIsICJzYW1lVmFsdWVaZXJvRXF1YWwiLCAiZ2V0SXNNYXRjaGluZ0tleSIsICJnZXRUcmFuc2Zvcm1LZXkiLCAiY3JlYXRlUmVmcmVzaGFibGVNb2l6ZWQiLCAicmVmcmVzaGFibGVNb2l6ZWQiLCAicmVzdWx0IiwgIm1vaXplIiwgInBhc3NlZE9wdGlvbnMiLCAibW9pemVhYmxlIiwgIm1lcmdlZE9wdGlvbnMiLCAiY3VycmllZEZuIiwgImN1cnJpZWRPcHRpb25zIiwgImNvYWxlc2NlZE9wdGlvbnMiLCAiY3VzdG9tT3B0aW9ucyIsICJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsICJfZXhjbHVkZWQiLCAibWF4QWdlT3B0aW9ucyIsICJzdGF0c09wdGlvbnMiLCAibWVtb2l6ZSIsICJkZWVwIiwgImluZmluaXRlIiwgIkluZmluaXR5IiwgImFyZ01hdGNoZXIiLCAia2V5TWF0Y2hlciIsICJleHBpcmVPcHRpb25zIiwgInByb21pc2UiLCAicmVhY3QiLCAic2VyaWFsaXplIiwgInNlcmlhbGl6ZVdpdGgiLCAic2hhbGxvdyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X3ZpZXciLCAiaW1wb3J0X29ic2lkaWFuIiwgIm1vaXplIiwgIl9hIiwgImltcG9ydF92aWV3Il0KfQo=
